(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"4qeh":function(e,n,a){var t=a("QD2z"),r=a("PwZr"),o=t("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},CYIj:function(e,n,a){var t=a("ZS3K"),r=a("Djkm"),o=a("fEfC");t({target:"Object",stat:!0},{fromEntries:function(e){var n={};return r(e,(function(e,a){o(n,e,a)}),{AS_ENTRIES:!0}),n}})},Djkm:function(e,n,a){var t=a("m/aQ"),r=a("4qeh"),o=a("WD+B"),i=a("ehR5"),l=a("rYq8"),u=a("aQoS"),c=a("Zgnq"),m=function(e,n){this.stopped=e,this.result=n};e.exports=function(e,n,a){var s,f,p,d,_,E,g,b=a&&a.that,h=!(!a||!a.AS_ENTRIES),v=!(!a||!a.IS_ITERATOR),w=!(!a||!a.INTERRUPTED),j=i(n,b,1+h+w),z=function(e){return s&&c(s,"normal",e),new m(!0,e)},y=function(e){return h?(t(e),w?j(e[0],e[1],z):j(e[0],e[1])):w?j(e,z):j(e)};if(v)s=e;else{if("function"!=typeof(f=u(e)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,d=o(e.length);d>p;p++)if((_=y(e[p]))&&_ instanceof m)return _;return new m(!1)}s=l(e,f)}for(E=s.next;!(g=E.call(s)).done;){try{_=y(g.value)}catch(S){c(s,"throw",S)}if("object"==typeof _&&_&&_ instanceof m)return _}return new m(!1)}},GfTH:function(e,n,a){"use strict";a.d(n,"a",(function(){return l}));var t=a("q1tI"),r=a.n(t),o=a("TYz2"),i=a("KYPV"),l=function(){var e=Object(o.a)(),n=Object(o.b)(),a=n[0],t=n[1],l=t.data,u=t.loading,c=t.error,m=Object(o.c)()[0];return e?r.a.createElement(r.a.Fragment,null,"already logged in",r.a.createElement("button",{onClick:function(){return m()}},"sign out")):c?"error "+c:u?"loading "+u:l?"data "+l:r.a.createElement(i.c,{initialValues:{username:"",password:""},onSubmit:function(e){a(e.username,e.password)}},r.a.createElement(i.b,null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(i.a,{id:"username",name:"username",placeholder:""}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(i.a,{id:"password",name:"password",type:"password",placeholder:""}),r.a.createElement("button",{type:"submit"},"Sign In")))}},PwZr:function(e,n){e.exports={}},Tmkn:function(e,n,a){"use strict";a.d(n,"a",(function(){return g})),a.d(n,"b",(function(){return b}));var t,r,o=a("q1tI"),i=a.n(o),l=a("TYz2"),u=a("MUpH"),c=a("UYTu"),m=a("pZLH"),s=Object(c.d)(t||(t=Object(u.a)(["\n  mutation {\n    updateProfile(terms_accepted: true) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        terms_accepted\n      }\n    }\n  }\n"]))),f=function(){var e=Object(m.a)(s),n=e[0],a=e[1],t=(a.loading,a.error,Object(o.useState)(!1)),r=t[0],l=t[1];return i.a.createElement("div",null,"terms terms",i.a.createElement("input",{type:"checkbox",checked:r,onChange:function(e){return l(e.target.checked)}}),i.a.createElement("button",{disabled:!r,onClick:n},"okay"))},p=(a("CYIj"),a("KYPV")),d=Object(c.d)(r||(r=Object(u.a)(["\n  mutation updateProfile($personal_name: String!, $organization_name: String!) {\n    updateProfile(personal_name: $personal_name, organization_name: $organization_name) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        organization_name\n        personal_name\n        terms_accepted\n      }\n    }\n  }\n"]))),_=function(e){var n=e.profile,a=Object(m.a)(d),t=a[0],r=a[1];r.data,r.loading,r.error;return i.a.createElement(p.c,{initialValues:{personal_name:n.personal_name,organization_name:n.organization_name},validate:function(e){var n={};return["personal_name","organization_name"].forEach((function(a){e[a]||(n[a]="Required.")})),n},onSubmit:function(e,n){var a=e.personal_name,r=e.organization_name;return t({variables:{personal_name:a,organization_name:r}}).then((function(e){var a=e.data;if(!a.errors)return a;n.setStatus(Object.fromEntries(a.errors.map((function(e){return[e.field,e.errors.join(" ")]}))))}))}},(function(e){var n=e.errors,a=e.touched,t=e.status;return i.a.createElement(p.b,null,null!=t&&t.__all__?i.a.createElement("div",null,t.__all__):null,i.a.createElement("label",{htmlFor:"personal_name"},"Enter your name here:"),i.a.createElement(p.a,{id:"personal_name",name:"personal_name",type:"personal_name",placeholder:""}),n.personal_name&&a.personal_name?i.a.createElement("div",null,n.personal_name):null,null!=t&&t.personal_name?i.a.createElement("div",null,t.personal_name):null,i.a.createElement("label",{htmlFor:"organization_name"},"Name of organization:"),i.a.createElement(p.a,{id:"organization_name",name:"organization_name",type:"organization_name",placeholder:""}),n.organization_name&&a.organization_name?i.a.createElement("div",null,n.organization_name):null,null!=t&&t.organization_name?i.a.createElement("div",null,t.organization_name):null,i.a.createElement("button",{type:"submit"},"Sign Up & Login"))}))},E=a("GfTH"),g=i.a.createContext(null),b=function(e){var n=e.children,a=Object(l.d)(),t=a.data,r=a.loading,o=a.error;return r?"Loading...":o||!t?i.a.createElement(E.a,null):t.personal_name&&t.organization_name?t.terms_accepted?i.a.createElement(g.Provider,{value:t},n):i.a.createElement(f,null):i.a.createElement(_,{profile:t})}},Zgnq:function(e,n,a){var t=a("m/aQ");e.exports=function(e,n,a){var r,o;t(e);try{if(void 0===(r=e.return)){if("throw"===n)throw a;return a}r=r.call(e)}catch(i){o=!0,r=i}if("throw"===n)throw a;if(o)throw r;return t(r),a}},aQoS:function(e,n,a){var t=a("yjCN"),r=a("PwZr"),o=a("QD2z")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[t(e)]}},fEfC:function(e,n,a){"use strict";var t=a("3jhN"),r=a("jekk"),o=a("46f4");e.exports=function(e,n,a){var i=t(n);i in e?r.f(e,i,o(0,a)):e[i]=a}},"p/bU":function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),r=a.n(t),o=a("1Yd/"),i=a("O9mE"),l=a("7cfw"),u=a("t4Fg"),c=a("Tmkn"),m=function(){return r.a.createElement(c.a.Consumer,null,(function(e){return JSON.stringify(e)||""}))};n.default=function(){return Object(t.useEffect)((function(){Object(u.a)()})),r.a.createElement(i.a,{hasSkipNav:!1},r.a.createElement(o.a,null),r.a.createElement(c.b,null,r.a.createElement(m,null)),r.a.createElement(l.a,null))}},rYq8:function(e,n,a){var t=a("m/aQ"),r=a("aQoS");e.exports=function(e,n){var a=arguments.length<2?r(e):n;if("function"!=typeof a)throw TypeError(String(e)+" is not iterable");return t(a.call(e))}}}]);
//# sourceMappingURL=component---src-pages-auth-profile-tsx-dc15a014f80054ba2c48.js.map