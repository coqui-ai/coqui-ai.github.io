{"version":3,"sources":["webpack:///./src/layouts/Root/components/DeleteModal.tsx","webpack:///./src/layouts/Voices/components/Samples.tsx","webpack:///./src/pages/voices//samples.tsx"],"names":["DeleteModal","children","onCancel","onDelete","loading","onClose","onClick","aria-label","SAMPLES","gql","DELETE_SAMPLE","SampleList","styled","ul","SampleBox","li","SampleTitle","div","SampleControls","SampleControl","props","grow","Samples","voice_id","useQuery","variables","data","useState","isDeleting","setIsDeleting","useMutation","update","cache","evict","id","fieldName","args","deleteSample","deleteSampleResults","useManyPlayers","currentTrack","Player","useEffect","reset","voice","name","samples","map","sample","key","src","audio_url","Pause","size","color","variant","VideoCircle","href","Trash","SamplesPage","consentedToGoogleAnalytics","Root","hasSkipNav","SEO","RequireAuth"],"mappings":"ylBAaaA,EAAc,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAUC,EAAvB,EAAuBA,SAAUC,EAAjC,EAAiCA,QAAjC,OACzB,qBACEC,QAASH,GAKT,kBAAC,IAAD,KAASD,GACT,kBAAC,IAAD,KACGG,EACC,kBAAC,IAAD,MAEA,qBACEE,QAASH,GADX,eAUF,qBACEG,QAASJ,GADX,WAYF,kBAAC,IAAD,CAAOK,aAAW,mB,oRC9BhBC,EAAUC,YAAH,mNAcPC,EAAgBD,YAAH,2IASbE,EAAaC,IAAOC,GAAV,0EAAGD,CAAH,iCAIVE,EAAYF,IAAOG,GAAV,yEAAGH,CAAH,+GAUTI,EAAcJ,IAAOK,IAAV,2EAAGL,CAAH,+GAQXM,EAAiBN,IAAOK,IAAV,8EAAGL,CAAH,+BAIdO,EAAgBP,IAAOK,IAAV,6EAAGL,CAAH,qHACJ,SAAAQ,GAAK,OAAIA,EAAMC,MAAQ,K,gsBASzBC,EAAoB,SAAC,GAAiB,IAAfC,EAAe,EAAfA,SAClC,EAA0BC,YAAShB,EAAS,CAAEiB,UAAW,CAAEF,cAAnDG,EAAR,EAAQA,KAAMtB,EAAd,EAAcA,QAEd,EAAoCuB,mBAAS,MAAtCC,EAAP,KAAmBC,EAAnB,KACA,EAA4CC,YAAYpB,EAAe,CACrEqB,OAAQ,SAAAC,GACNA,EAAMC,MAAM,CACVC,GAAI,aACJC,UAAW,UACXC,KAAM,CAAEb,cAEVS,EAAMC,MAAM,CACVC,GAAI,aACJC,UAAW,cATVE,EAAP,KAAqBC,EAArB,KAaA,EAAiCC,cAAzBC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,OAStB,OAPAC,qBAAU,WACJJ,EAAoBZ,OACtBG,EAAc,MACdS,EAAoBK,WAErB,CAACL,EAAqBT,IAErBzB,EAAgB,kBAAC,IAAD,MAGlB,oCACGwB,EACC,kBAAC5B,EAAA,EAAD,CACEI,QAASkC,EAAoBlC,QAC7BD,SAAU,kBAAMkC,EAAa,CAAEZ,UAAW,CAAES,GAAIN,EAAWM,OAC3DhC,SAAU,kBAAM2B,EAAc,QAHhC,sDAQA,GAEF,kBAAC,IAAD,qBAAwBH,EAAKkB,MAAMC,MACnC,kBAAClC,EAAD,KACGe,EAAKoB,QAAQC,KAAI,SAAAC,GAAM,OACtB,kBAAClC,EAAD,CAAWmC,IAAKD,EAAOd,IACrB,kBAAClB,EAAD,KAAcgC,EAAOH,MACrB,kBAAC3B,EAAD,KACE,yBAKE,kBAACuB,EAAD,CAAQS,IAAKF,EAAOG,WACjBX,IAAiBQ,EAAOG,UACvB,kBAACC,EAAA,EAAD,CAAOC,KAAK,KAAKC,MAAM,UAAUC,QAAQ,SAEzC,kBAACC,EAAA,EAAD,CAAaH,KAAK,KAAKC,MAAM,UAAUC,QAAQ,WAIrD,yBAKE,qBACEE,KAAMT,EAAOG,WADf,WAQE,qBACEE,KAAK,KACLC,MAAM,UACNC,QAAQ,WAUd,kBAACpC,EAAD,CAAeE,KAAM,IACrB,yBAKE,kBAACqC,EAAA,EAAD,CACEpD,QAAS,kBAAMuB,EAAcmB,IAC7BK,KAAK,KACLC,MAAM,UACNC,QAAQ,kBC1IXI,UAjBe,SAAC,GAAW,IAATzB,EAAS,EAATA,GAK/B,OAJAQ,qBAAU,WACRkB,iBAIA,kBAACC,EAAA,EAAD,CAAYC,YAAY,GACtB,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CAASzC,SAAUW,KAGrB,kBAAC,IAAD","file":"component---src-pages-voices-[id]-samples-tsx-05d674da57b91c09afa8.js","sourcesContent":["/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { Loading, OrangeButton } from 'layouts/Root/components/Styled';\nimport { css } from 'styled-components';\nimport { Button } from '@zendeskgarden/react-buttons';\nimport { Modal, Header, Body, Close } from '@zendeskgarden/react-modals';\n\nexport const DeleteModal = ({ children, onCancel, onDelete, loading }) => (\n  <Modal\n    onClose={onCancel}\n    css={css`\n      width: 477px;\n    `}\n  >\n    <Header>{children}</Header>\n    <Body>\n      {loading ? (\n        <Loading />\n      ) : (\n        <OrangeButton\n          onClick={onDelete}\n          css={css`\n            width: 100%;\n          `}\n        >\n          Yes, delete\n        </OrangeButton>\n      )}\n\n      <Button\n        onClick={onCancel}\n        css={css`\n          width: 100%;\n          border: none;\n          color: black;\n          margin-top: 10px;\n        `}\n      >\n        Cancel\n      </Button>\n    </Body>\n    <Close aria-label=\"Close modal\" />\n  </Modal>\n);\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, gql, useMutation } from '@apollo/client';\nimport { Link } from 'gatsby';\nimport { Loading, OrangeButton, TitleBar } from 'layouts/Root/components/Styled';\nimport styled, { css } from 'styled-components';\nimport { ArrowCircleDown2, MusicPlaylist, Pause, Trash, VideoCircle } from 'iconsax-react';\nimport { Button } from '@zendeskgarden/react-buttons';\nimport { DeleteModal } from '../../Root/components/DeleteModal';\nimport { useManyPlayers } from './MediaPlayers';\n\nconst SAMPLES = gql`\n  query Samples($voice_id: String!) {\n    voice(id: $voice_id) {\n      id\n      name\n    }\n    samples(voice_id: $voice_id) {\n      id\n      name\n      audio_url\n    }\n  }\n`;\n\nconst DELETE_SAMPLE = gql`\n  mutation deleteSample($id: String!) {\n    deleteSample(id: $id) {\n      success\n      errors\n    }\n  }\n`;\n\nconst SampleList = styled.ul`\n  margin: 54px auto;\n  width: 80%;\n`;\nconst SampleBox = styled.li`\n  width: 100%;\n\n  height: 134px;\n\n  background: #012b30;\n  border-radius: 8px;\n  border: 1px #012b30 solid;\n  margin-bottom: 18px;\n`;\nconst SampleTitle = styled.div`\n  height: 64px;\n  border-bottom: 1px solid #5eae91;\n  padding: 20px 38px;\n  color: white;\n  font-size: 24px;\n  font-weight: 600;\n`;\nconst SampleControls = styled.div`\n  height: 70px;\n  display: flex;\n`;\nconst SampleControl = styled.div`\n  flex-grow: ${props => props.grow || 0};\n  padding: 25px 38px;\n  color: #5eae91;\n  border-right: 1px solid #5eae91;\n  &:last-of-type {\n    border-right: none;\n  }\n`;\n\nexport const Samples: React.FC = ({ voice_id }) => {\n  const { data, loading } = useQuery(SAMPLES, { variables: { voice_id } });\n\n  const [isDeleting, setIsDeleting] = useState(null);\n  const [deleteSample, deleteSampleResults] = useMutation(DELETE_SAMPLE, {\n    update: cache => {\n      cache.evict({\n        id: 'ROOT_QUERY',\n        fieldName: 'samples',\n        args: { voice_id }\n      });\n      cache.evict({\n        id: 'ROOT_QUERY',\n        fieldName: 'voices'\n      });\n    }\n  });\n  const { currentTrack, Player } = useManyPlayers();\n\n  useEffect(() => {\n    if (deleteSampleResults.data) {\n      setIsDeleting(null);\n      deleteSampleResults.reset();\n    }\n  }, [deleteSampleResults, setIsDeleting]);\n\n  if (loading) return <Loading />;\n\n  return (\n    <>\n      {isDeleting ? (\n        <DeleteModal\n          loading={deleteSampleResults.loading}\n          onDelete={() => deleteSample({ variables: { id: isDeleting.id } })}\n          onCancel={() => setIsDeleting(null)}\n        >\n          Are you sure you want to delete this audio sample?\n        </DeleteModal>\n      ) : (\n        ''\n      )}\n      <TitleBar>Samples for: {data.voice.name}</TitleBar>\n      <SampleList>\n        {data.samples.map(sample => (\n          <SampleBox key={sample.id}>\n            <SampleTitle>{sample.name}</SampleTitle>\n            <SampleControls>\n              <SampleControl\n                css={css`\n                  padding: 19px 38px;\n                `}\n              >\n                <Player src={sample.audio_url}>\n                  {currentTrack === sample.audio_url ? (\n                    <Pause size=\"32\" color=\"#ED8F1C\" variant=\"Bold\" />\n                  ) : (\n                    <VideoCircle size=\"32\" color=\"#ED8F1C\" variant=\"Bold\" />\n                  )}\n                </Player>\n              </SampleControl>\n              <SampleControl\n                css={css`\n                  padding: 16px 38px;\n                `}\n              >\n                <a\n                  href={sample.audio_url}\n                  css={css`\n                    color: unset !important;\n                    text-decoration: unset !important;\n                  `}\n                >\n                  Download\n                  <ArrowCircleDown2\n                    size=\"24\"\n                    color=\"#5EAE91\"\n                    variant=\"Bold\"\n                    css={css`\n                      min-height: 24px;\n                      position: relative;\n                      top: 7px;\n                      margin-left: 7px;\n                    `}\n                  />\n                </a>\n              </SampleControl>\n              <SampleControl grow={1}></SampleControl>\n              <SampleControl\n                css={css`\n                  padding: 19px 19px;\n                `}\n              >\n                <Trash\n                  onClick={() => setIsDeleting(sample)}\n                  size=\"32\"\n                  color=\"#CC3340\"\n                  variant=\"Bold\"\n                />\n              </SampleControl>\n            </SampleControls>\n          </SampleBox>\n        ))}\n      </SampleList>\n    </>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect } from 'react';\n// import navs from '../nav/blog';\nimport SEO from 'components/SEO';\nimport RootLayout from 'layouts/Root';\n// import { graphql, useStaticQuery } from 'gatsby';\nimport GogleAnalyticsCookieConsent from 'components/Cookies';\nimport { consentedToGoogleAnalytics } from 'utils/GoogleAnalytics';\nimport { RequireAuth } from 'components/RequireAuth';\nimport { Samples } from 'layouts/Voices/components/Samples';\n\nconst SamplesPage: React.FC = ({ id }) => {\n  useEffect(() => {\n    consentedToGoogleAnalytics();\n  });\n\n  return (\n    <RootLayout hasSkipNav={false}>\n      <SEO />\n      <RequireAuth>\n        <Samples voice_id={id} />\n      </RequireAuth>\n\n      <GogleAnalyticsCookieConsent />\n    </RootLayout>\n  );\n};\n\nexport default SamplesPage;\n"],"sourceRoot":""}