{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.object.from-entries.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/iterate.js","webpack:///./src/layouts/Auth/components/SignInForm.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/internals/iterators.js","webpack:///./src/layouts/Auth/components/registration/AcceptTerms.tsx","webpack:///./src/layouts/Auth/components/registration/CompleteProfile.tsx","webpack:///./src/components/RequireAuth.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/create-property.js","webpack:///./src/layouts/Voices/components/CreateVoice.tsx","webpack:///./src/pages/voices/create.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/internals/get-iterator.js"],"names":["wellKnownSymbol","Iterators","ITERATOR","ArrayPrototype","Array","prototype","module","exports","it","undefined","$","iterate","createProperty","target","stat","fromEntries","iterable","obj","k","v","AS_ENTRIES","anObject","isArrayIteratorMethod","toLength","bind","getIterator","getIteratorMethod","iteratorClose","Result","stopped","result","this","unboundFunction","options","iterator","iterFn","index","length","next","step","that","IS_ITERATOR","INTERRUPTED","fn","stop","condition","callFn","value","TypeError","call","done","error","SignInForm","user","useAuth","useLoginEffect","login","data","loading","logout","useLogoutEffect","onClick","initialValues","username","password","onSubmit","values","htmlFor","id","name","placeholder","type","ACCEPT_TERMS","gql","AcceptTerms","useMutation","acceptTerms","useState","isChecked","setChecked","checked","onChange","e","disabled","UPDATE_PROFILE","CompleteProfile","profile","updateProfile","personal_name","organization_name","validate","errors","forEach","formik","variables","then","setStatus","Object","map","field","join","touched","status","__all__","ProfileContext","React","createContext","RequireAuth","children","useProfile","terms_accepted","Provider","kind","innerResult","innerError","classof","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","key","propertyKey","f","CREATE_VOICE","CreateVoice","sourceValue","setSourceValue","nameValue","setNameValue","fileValue","setFileValue","createVoice","JSON","stringify","required","validity","valid","files","voice","CreateVoicePage","useEffect","consentedToGoogleAnalytics","Root","hasSkipNav","SEO","usingIterator","iteratorMethod","arguments","String"],"mappings":"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","file":"component---src-pages-voices-create-tsx-ecebbce0de911951c674.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { useAuth, useLoginEffect, useLogoutEffect } from '../../../../utils/auth';\nimport { Formik, Field, Form } from 'formik';\n\nexport const SignInForm = () => {\n  const user = useAuth();\n  const [login, { data, loading, error }] = useLoginEffect();\n  const [logout] = useLogoutEffect();\n\n  if (user)\n    return (\n      <>\n        already logged in\n        <button onClick={() => logout()}>sign out</button>\n      </>\n    );\n\n  if (error) return 'error ' + error;\n  if (loading) return 'loading ' + loading;\n  if (data) return 'data ' + data;\n\n  return (\n    <Formik\n      initialValues={{\n        username: '',\n        password: ''\n      }}\n      onSubmit={values => {\n        login(values.username, values.password);\n      }}\n    >\n      <Form>\n        <label htmlFor=\"username\">Username</label>\n        <Field id=\"username\" name=\"username\" placeholder=\"\" />\n\n        <label htmlFor=\"password\">Password</label>\n        <Field id=\"password\" name=\"password\" type=\"password\" placeholder=\"\" />\n\n        <button type=\"submit\">Sign In</button>\n      </Form>\n    </Formik>\n  );\n};\n","module.exports = {};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useState } from 'react';\nimport { useQuery, gql, useMutation } from '@apollo/client';\nimport { RequireAuth, ProfileContext } from './RequireAuth';\n\nconst ACCEPT_TERMS = gql`\n  mutation {\n    updateProfile(terms_accepted: true) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        terms_accepted\n      }\n    }\n  }\n`;\n\nexport const AcceptTerms: React.FC = () => {\n  const [acceptTerms, { loading, error }] = useMutation(ACCEPT_TERMS);\n  const [isChecked, setChecked] = useState(false);\n\n  return (\n    <div>\n      terms terms\n      <input type=\"checkbox\" checked={isChecked} onChange={e => setChecked(e.target.checked)} />\n      <button disabled={!isChecked} onClick={acceptTerms}>\n        okay\n      </button>\n    </div>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport { useQuery, gql, useMutation } from '@apollo/client';\nimport { RequireAuth, ProfileContext } from './RequireAuth';\n\nconst UPDATE_PROFILE = gql`\n  mutation updateProfile($personal_name: String!, $organization_name: String!) {\n    updateProfile(personal_name: $personal_name, organization_name: $organization_name) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        organization_name\n        personal_name\n        terms_accepted\n      }\n    }\n  }\n`;\n\nexport const CompleteProfile = ({ profile }) => {\n  const [updateProfile, { data, loading, error }] = useMutation(UPDATE_PROFILE);\n\n  return (\n    <Formik\n      initialValues={{\n        personal_name: profile.personal_name,\n        organization_name: profile.organization_name\n      }}\n      validate={values => {\n        const errors = {};\n\n        ['personal_name', 'organization_name'].forEach(k => {\n          if (!values[k]) errors[k] = 'Required.';\n        });\n\n        return errors;\n      }}\n      onSubmit={({ personal_name, organization_name }, formik) =>\n        updateProfile({ variables: { personal_name, organization_name } }).then(({ data }) => {\n          if (data.errors) {\n            formik.setStatus(\n              Object.fromEntries(data.errors.map(({ field, errors }) => [field, errors.join(' ')]))\n            );\n          } else {\n            return data;\n          }\n        })\n      }\n    >\n      {({ errors, touched, status }) => (\n        <Form>\n          {status?.__all__ ? <div>{status.__all__}</div> : null}\n\n          <label htmlFor=\"personal_name\">Enter your name here:</label>\n          <Field id=\"personal_name\" name=\"personal_name\" type=\"personal_name\" placeholder=\"\" />\n          {errors.personal_name && touched.personal_name ? <div>{errors.personal_name}</div> : null}\n          {status?.personal_name ? <div>{status.personal_name}</div> : null}\n\n          <label htmlFor=\"organization_name\">Name of organization:</label>\n          <Field\n            id=\"organization_name\"\n            name=\"organization_name\"\n            type=\"organization_name\"\n            placeholder=\"\"\n          />\n          {errors.organization_name && touched.organization_name ? (\n            <div>{errors.organization_name}</div>\n          ) : null}\n          {status?.organization_name ? <div>{status.organization_name}</div> : null}\n\n          <button type=\"submit\">Sign Up & Login</button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { useProfile, Profile } from '../../utils/auth';\nimport { AcceptTerms } from 'layouts/Auth/components/registration/AcceptTerms';\nimport { CompleteProfile } from 'layouts/Auth/components/registration/CompleteProfile';\nimport { VerifyEmail } from 'layouts/Auth/components/registration/VerifyEmail';\nimport { SignInForm } from 'layouts/Auth/components/SignInForm';\n\nexport const ProfileContext = React.createContext<Profile>(null);\n\nexport const RequireAuth = ({ children }) => {\n  const { data: profile, loading, error } = useProfile();\n\n  if (loading) return 'Loading...';\n\n  if (error || !profile) {\n    return <SignInForm />;\n  } // TODO: error-specific behaviour?\n\n  // if (!profile.email_validated) {\n  //   return <VerifyEmail />;\n  // }\n\n  if (!profile.personal_name || !profile.organization_name) {\n    return <CompleteProfile profile={profile} />;\n  }\n\n  if (!profile.terms_accepted) {\n    return <AcceptTerms />;\n  }\n\n  return <ProfileContext.Provider value={profile}>{children}</ProfileContext.Provider>;\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = iterator['return'];\n    if (innerResult === undefined) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = innerResult.call(iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useState } from 'react';\nimport { useQuery, gql, useMutation } from '@apollo/client';\nimport { Field, Input, Label, Radio } from '@zendeskgarden/react-forms';\n\nconst CREATE_VOICE = gql`\n  mutation CreateVoice($name: String!, $voice: Upload!) {\n    createVoice(name: $name, voice: $voice) {\n      errors {\n        field\n        errors\n      }\n      voice {\n        id\n        name\n        created_at\n      }\n    }\n  }\n`;\n\nexport const CreateVoice: React.FC = () => {\n  const [sourceValue, setSourceValue] = useState('record');\n  const [nameValue, setNameValue] = useState('');\n  const [fileValue, setFileValue] = useState('');\n\n  const [createVoice, { data, loading, error }] = useMutation(CREATE_VOICE);\n\n  if (loading) return 'loading';\n\n  const submitForm = () => {\n    if (!nameValue) {\n      return false;\n    }\n\n    createVoice({ variables: { name: nameValue, voice: fileValue } });\n  };\n\n  const onFileChange = e => {\n    if (e.target.validity.valid) {\n      setFileValue(e.target.files[0]);\n    }\n  };\n\n  return (\n    <div>\n      <pre>{JSON.stringify(data)}</pre>\n      <pre>{JSON.stringify(error)}</pre>\n      <Field>\n        <Radio\n          name=\"source\"\n          value=\"record\"\n          checked={sourceValue === 'record'}\n          onChange={e => setSourceValue(e.target.value)}\n        >\n          <Label>Record</Label>\n        </Radio>\n      </Field>\n      <Field>\n        <Radio\n          name=\"source\"\n          value=\"upload\"\n          checked={sourceValue === 'upload'}\n          onChange={e => setSourceValue(e.target.value)}\n        >\n          <Label>Upload</Label>\n        </Radio>\n      </Field>\n      <input type=\"file\" required onChange={onFileChange} />\n      <Field>\n        <Label>Name your voice</Label>\n        <Input value={nameValue} onChange={e => setNameValue(e.target.value)} />\n      </Field>\n      <button onClick={submitForm}>Proceed to use your voice</button>\n    </div>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect } from 'react';\n// import navs from '../nav/blog';\nimport SEO from 'components/SEO';\nimport RootLayout from 'layouts/Root';\n// import { graphql, useStaticQuery } from 'gatsby';\nimport GogleAnalyticsCookieConsent from 'components/Cookies';\nimport { consentedToGoogleAnalytics } from 'utils/GoogleAnalytics';\nimport { RequireAuth } from 'components/RequireAuth';\nimport { Voices } from 'layouts/Voices/components/Voices';\nimport { CreateVoice } from 'layouts/Voices/components/CreateVoice';\n\nconst CreateVoicePage: React.FC = () => {\n  useEffect(() => {\n    consentedToGoogleAnalytics();\n  });\n\n  return (\n    <RootLayout hasSkipNav={false}>\n      <SEO />\n      <RequireAuth>\n        <CreateVoice />\n      </RequireAuth>\n\n      <GogleAnalyticsCookieConsent />\n    </RootLayout>\n  );\n};\n\nexport default CreateVoicePage;\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(it) : usingIterator;\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n"],"sourceRoot":""}