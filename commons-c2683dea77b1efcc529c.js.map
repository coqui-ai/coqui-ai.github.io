{"version":3,"sources":["webpack:///./node_modules/@apollo/client/react/hooks/useSyncExternalStore.js","webpack:///./node_modules/@apollo/client/react/hooks/useQuery.js","webpack:///./node_modules/use-persisted-state/dist/use-persisted-state.m.js","webpack:///./node_modules/@apollo/client/react/hooks/useApolloClient.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./utils/auth.ts","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@apollo/client/react/hooks/useMutation.js","webpack:///./node_modules/@use-it/event-listener/dist/event-listener.m.js","webpack:///./node_modules/@apollo/client/react/parser/index.js"],"names":["didWarnUncachedGetSnapshot","useSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","value","__DEV__","error","_a","inst","forceUpdate","canUse","Object","assign","checkIfSnapshotChanged","_b","prototype","hasOwnProperty","useQuery","query","options","create","useInternalState","useApolloClient","client","stateRef","current","state","setTick","tick","InternalState","previous","this","asyncResolveFns","Set","optionsToIgnoreOnce","WeakSet","ssrDisabledResult","maybeDeepFreeze","loading","data","networkStatus","skipStandbyResult","ready","toQueryResultCache","WeakMap","Map","Query","previousResult","result","previousData","warn","asyncUpdate","_this","Promise","resolve","add","watchQueryOptions","renderPromises","useOptions","obsQuery","useObservableQuery","onNext","getCurrentResult","setResult","subscription","onError","last","unsubscribe","resetLastResults","call","disableNetworkFetches","unsafeHandlePartialRefetch","queryResult","toQueryResult","size","forEach","clear","createWatchQueryOptions","queryHookOptions","currentWatchQueryOptions","has","observable","delete","reobserve","getObsQueryOptions","onCompleted","ssr","skip","fetchPolicy","toMerge","globalDefaults","defaultOptions","watchQuery","push","compact","reduce","mergeOptions","otherOptions","displayName","variables","_c","getDefaultFetchPolicy","_d","initialFetchPolicy","getSSRObservable","obsQueryFields","refetch","bind","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore","ssrAllowed","registerSSRObservable","addObservableQueryPromise","nextResult","handleErrorOrCompleted","get","resultWithoutPartial","partial","set","called","errors","graphQLErrors","partialRefetch","keys","length","l","a","e","n","t","callbacks","deregister","o","indexOf","splice","emit","u","global","localStorage","globalThis","window","i","getItem","JSON","parse","setItem","stringify","c","f","g","s","d","p","key","newValue","v","override","context","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","done","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","useAuthState","createPersistedState","useAuth","LOGIN","gql","PROFILE","useProfile","auth","profile","useProfileIsComplete","personal_name","organization_name","terms_accepted","email_validated","useLoginEffect","setAuthState","useMutation","login","username","password","authdata","resetStore","useLogoutEffect","setState","_typeof","obj","module","exports","Symbol","iterator","constructor","__esModule","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","TypeError","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","Function","mutation","Mutation","ref","mutationId","isMounted","execute","executeOptions","baseOptions","ignoreResults","clientOptions","mutate","response","result_1","catch","result_2","capture","passive","once","r","addEventListener","_e","removeEventListener","DocumentType","cache","operationName","Subscription","verifyDocumentType","document","operation","cached","kind","concat","fragments","queries","mutations","subscriptions","_i","definitions","x","definition","variableDefinitions","payload","parser","requiredOperationName","usedOperationName"],"mappings":"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","file":"commons-c2683dea77b1efcc529c.js","sourcesContent":["import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { canUseLayoutEffect } from \"../../utilities/index.js\";\nvar didWarnUncachedGetSnapshot = false;\nvar uSESKey = \"useSyncExternalStore\";\nvar realHook = React[uSESKey];\nexport var useSyncExternalStore = realHook || function (subscribe, getSnapshot, getServerSnapshot) {\n  var value = getSnapshot();\n\n  if (__DEV__ && !didWarnUncachedGetSnapshot && value !== getSnapshot()) {\n    didWarnUncachedGetSnapshot = true;\n    __DEV__ && invariant.error('The result of getSnapshot should be cached to avoid an infinite loop');\n  }\n\n  var _a = React.useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _a[0].inst,\n      forceUpdate = _a[1];\n\n  if (canUseLayoutEffect) {\n    React.useLayoutEffect(function () {\n      Object.assign(inst, {\n        value: value,\n        getSnapshot: getSnapshot\n      });\n\n      if (checkIfSnapshotChanged(inst)) {\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }, [subscribe, value, getSnapshot]);\n  } else {\n    Object.assign(inst, {\n      value: value,\n      getSnapshot: getSnapshot\n    });\n  }\n\n  React.useEffect(function () {\n    if (checkIfSnapshotChanged(inst)) {\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    return subscribe(function handleStoreChange() {\n      if (checkIfSnapshotChanged(inst)) {\n        forceUpdate({\n          inst: inst\n        });\n      }\n    });\n  }, [subscribe]);\n  return value;\n};\n\nfunction checkIfSnapshotChanged(_a) {\n  var value = _a.value,\n      getSnapshot = _a.getSnapshot;\n\n  try {\n    return value !== getSnapshot();\n  } catch (_b) {\n    return true;\n  }\n}","import \"core-js/modules/es.array.reduce.js\";\nimport { __assign, __rest } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { useCallback, useContext, useMemo, useRef, useState } from 'react';\nimport { useSyncExternalStore } from \"./useSyncExternalStore.js\";\nimport { equal } from '@wry/equality';\nimport { mergeOptions } from \"../../core/index.js\";\nimport { getApolloContext } from \"../context/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { NetworkStatus } from \"../../core/index.js\";\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { canUseWeakMap, canUseWeakSet, compact, isNonEmptyArray, maybeDeepFreeze } from \"../../utilities/index.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function useQuery(query, options) {\n  if (options === void 0) {\n    options = Object.create(null);\n  }\n\n  return useInternalState(useApolloClient(options.client), query).useQuery(options);\n}\nexport function useInternalState(client, query) {\n  var stateRef = useRef();\n\n  if (!stateRef.current || client !== stateRef.current.client || query !== stateRef.current.query) {\n    stateRef.current = new InternalState(client, query, stateRef.current);\n  }\n\n  var state = stateRef.current;\n\n  var _a = useState(0),\n      _tick = _a[0],\n      setTick = _a[1];\n\n  state.forceUpdate = function () {\n    setTick(function (tick) {\n      return tick + 1;\n    });\n  };\n\n  return state;\n}\n\nvar InternalState = function () {\n  function InternalState(client, query, previous) {\n    this.client = client;\n    this.query = query;\n    this.asyncResolveFns = new Set();\n    this.optionsToIgnoreOnce = new (canUseWeakSet ? WeakSet : Set)();\n    this.ssrDisabledResult = maybeDeepFreeze({\n      loading: true,\n      data: void 0,\n      error: void 0,\n      networkStatus: NetworkStatus.loading\n    });\n    this.skipStandbyResult = maybeDeepFreeze({\n      loading: false,\n      data: void 0,\n      error: void 0,\n      networkStatus: NetworkStatus.ready\n    });\n    this.toQueryResultCache = new (canUseWeakMap ? WeakMap : Map)();\n    verifyDocumentType(query, DocumentType.Query);\n    var previousResult = previous && previous.result;\n    var previousData = previousResult && previousResult.data;\n\n    if (previousData) {\n      this.previousData = previousData;\n    }\n  }\n\n  InternalState.prototype.forceUpdate = function () {\n    __DEV__ && invariant.warn(\"Calling default no-op implementation of InternalState#forceUpdate\");\n  };\n\n  InternalState.prototype.asyncUpdate = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      _this.asyncResolveFns.add(resolve);\n\n      _this.optionsToIgnoreOnce.add(_this.watchQueryOptions);\n\n      _this.forceUpdate();\n    });\n  };\n\n  InternalState.prototype.useQuery = function (options) {\n    var _this = this;\n\n    this.renderPromises = useContext(getApolloContext()).renderPromises;\n    this.useOptions(options);\n    var obsQuery = this.useObservableQuery();\n    var result = useSyncExternalStore(useCallback(function () {\n      if (_this.renderPromises) {\n        return function () {};\n      }\n\n      var onNext = function onNext() {\n        var previousResult = _this.result;\n        var result = obsQuery.getCurrentResult();\n\n        if (previousResult && previousResult.loading === result.loading && previousResult.networkStatus === result.networkStatus && equal(previousResult.data, result.data)) {\n          return;\n        }\n\n        _this.setResult(result);\n      };\n\n      var onError = function onError(error) {\n        var last = obsQuery[\"last\"];\n        subscription.unsubscribe();\n\n        try {\n          obsQuery.resetLastResults();\n          subscription = obsQuery.subscribe(onNext, onError);\n        } finally {\n          obsQuery[\"last\"] = last;\n        }\n\n        if (!hasOwnProperty.call(error, 'graphQLErrors')) {\n          throw error;\n        }\n\n        var previousResult = _this.result;\n\n        if (!previousResult || previousResult && previousResult.loading || !equal(error, previousResult.error)) {\n          _this.setResult({\n            data: previousResult && previousResult.data,\n            error: error,\n            loading: false,\n            networkStatus: NetworkStatus.error\n          });\n        }\n      };\n\n      var subscription = obsQuery.subscribe(onNext, onError);\n      return function () {\n        return subscription.unsubscribe();\n      };\n    }, [obsQuery, this.renderPromises, this.client.disableNetworkFetches]), function () {\n      return _this.getCurrentResult();\n    }, function () {\n      return _this.getCurrentResult();\n    });\n    this.unsafeHandlePartialRefetch(result);\n    var queryResult = this.toQueryResult(result);\n\n    if (!queryResult.loading && this.asyncResolveFns.size) {\n      this.asyncResolveFns.forEach(function (resolve) {\n        return resolve(queryResult);\n      });\n      this.asyncResolveFns.clear();\n    }\n\n    return queryResult;\n  };\n\n  InternalState.prototype.useOptions = function (options) {\n    var _a;\n\n    var watchQueryOptions = this.createWatchQueryOptions(this.queryHookOptions = options);\n    var currentWatchQueryOptions = this.watchQueryOptions;\n\n    if (this.optionsToIgnoreOnce.has(currentWatchQueryOptions) || !equal(watchQueryOptions, currentWatchQueryOptions)) {\n      this.watchQueryOptions = watchQueryOptions;\n\n      if (currentWatchQueryOptions && this.observable) {\n        this.optionsToIgnoreOnce.delete(currentWatchQueryOptions);\n        this.observable.reobserve(this.getObsQueryOptions());\n        this.previousData = ((_a = this.result) === null || _a === void 0 ? void 0 : _a.data) || this.previousData;\n        this.result = void 0;\n      }\n    }\n\n    this.onCompleted = options.onCompleted || InternalState.prototype.onCompleted;\n    this.onError = options.onError || InternalState.prototype.onError;\n\n    if ((this.renderPromises || this.client.disableNetworkFetches) && this.queryHookOptions.ssr === false && !this.queryHookOptions.skip) {\n      this.result = this.ssrDisabledResult;\n    } else if (this.queryHookOptions.skip || this.watchQueryOptions.fetchPolicy === 'standby') {\n      this.result = this.skipStandbyResult;\n    } else if (this.result === this.ssrDisabledResult || this.result === this.skipStandbyResult) {\n      this.result = void 0;\n    }\n  };\n\n  InternalState.prototype.getObsQueryOptions = function () {\n    var toMerge = [];\n    var globalDefaults = this.client.defaultOptions.watchQuery;\n    if (globalDefaults) toMerge.push(globalDefaults);\n\n    if (this.queryHookOptions.defaultOptions) {\n      toMerge.push(this.queryHookOptions.defaultOptions);\n    }\n\n    toMerge.push(compact(this.observable && this.observable.options, this.watchQueryOptions));\n    return toMerge.reduce(mergeOptions);\n  };\n\n  InternalState.prototype.createWatchQueryOptions = function (_a) {\n    var _b;\n\n    if (_a === void 0) {\n      _a = {};\n    }\n\n    var skip = _a.skip,\n        ssr = _a.ssr,\n        onCompleted = _a.onCompleted,\n        onError = _a.onError,\n        displayName = _a.displayName,\n        defaultOptions = _a.defaultOptions,\n        otherOptions = __rest(_a, [\"skip\", \"ssr\", \"onCompleted\", \"onError\", \"displayName\", \"defaultOptions\"]);\n\n    var watchQueryOptions = Object.assign(otherOptions, {\n      query: this.query\n    });\n\n    if (this.renderPromises && (watchQueryOptions.fetchPolicy === 'network-only' || watchQueryOptions.fetchPolicy === 'cache-and-network')) {\n      watchQueryOptions.fetchPolicy = 'cache-first';\n    }\n\n    if (!watchQueryOptions.variables) {\n      watchQueryOptions.variables = {};\n    }\n\n    if (skip) {\n      var _c = watchQueryOptions.fetchPolicy,\n          fetchPolicy = _c === void 0 ? this.getDefaultFetchPolicy() : _c,\n          _d = watchQueryOptions.initialFetchPolicy,\n          initialFetchPolicy = _d === void 0 ? fetchPolicy : _d;\n      Object.assign(watchQueryOptions, {\n        initialFetchPolicy: initialFetchPolicy,\n        fetchPolicy: 'standby'\n      });\n    } else if (!watchQueryOptions.fetchPolicy) {\n      watchQueryOptions.fetchPolicy = ((_b = this.observable) === null || _b === void 0 ? void 0 : _b.options.initialFetchPolicy) || this.getDefaultFetchPolicy();\n    }\n\n    return watchQueryOptions;\n  };\n\n  InternalState.prototype.getDefaultFetchPolicy = function () {\n    var _a, _b;\n\n    return ((_a = this.queryHookOptions.defaultOptions) === null || _a === void 0 ? void 0 : _a.fetchPolicy) || ((_b = this.client.defaultOptions.watchQuery) === null || _b === void 0 ? void 0 : _b.fetchPolicy) || \"cache-first\";\n  };\n\n  InternalState.prototype.onCompleted = function (data) {};\n\n  InternalState.prototype.onError = function (error) {};\n\n  InternalState.prototype.useObservableQuery = function () {\n    var obsQuery = this.observable = this.renderPromises && this.renderPromises.getSSRObservable(this.watchQueryOptions) || this.observable || this.client.watchQuery(this.getObsQueryOptions());\n    this.obsQueryFields = useMemo(function () {\n      return {\n        refetch: obsQuery.refetch.bind(obsQuery),\n        reobserve: obsQuery.reobserve.bind(obsQuery),\n        fetchMore: obsQuery.fetchMore.bind(obsQuery),\n        updateQuery: obsQuery.updateQuery.bind(obsQuery),\n        startPolling: obsQuery.startPolling.bind(obsQuery),\n        stopPolling: obsQuery.stopPolling.bind(obsQuery),\n        subscribeToMore: obsQuery.subscribeToMore.bind(obsQuery)\n      };\n    }, [obsQuery]);\n    var ssrAllowed = !(this.queryHookOptions.ssr === false || this.queryHookOptions.skip);\n\n    if (this.renderPromises && ssrAllowed) {\n      this.renderPromises.registerSSRObservable(obsQuery);\n\n      if (obsQuery.getCurrentResult().loading) {\n        this.renderPromises.addObservableQueryPromise(obsQuery);\n      }\n    }\n\n    return obsQuery;\n  };\n\n  InternalState.prototype.setResult = function (nextResult) {\n    var previousResult = this.result;\n\n    if (previousResult && previousResult.data) {\n      this.previousData = previousResult.data;\n    }\n\n    this.result = nextResult;\n    this.forceUpdate();\n    this.handleErrorOrCompleted(nextResult);\n  };\n\n  InternalState.prototype.handleErrorOrCompleted = function (result) {\n    if (!result.loading) {\n      if (result.error) {\n        this.onError(result.error);\n      } else if (result.data) {\n        this.onCompleted(result.data);\n      }\n    }\n  };\n\n  InternalState.prototype.getCurrentResult = function () {\n    if (!this.result) {\n      this.handleErrorOrCompleted(this.result = this.observable.getCurrentResult());\n    }\n\n    return this.result;\n  };\n\n  InternalState.prototype.toQueryResult = function (result) {\n    var queryResult = this.toQueryResultCache.get(result);\n    if (queryResult) return queryResult;\n\n    var data = result.data,\n        partial = result.partial,\n        resultWithoutPartial = __rest(result, [\"data\", \"partial\"]);\n\n    this.toQueryResultCache.set(result, queryResult = __assign(__assign(__assign({\n      data: data\n    }, resultWithoutPartial), this.obsQueryFields), {\n      client: this.client,\n      observable: this.observable,\n      variables: this.observable.variables,\n      called: true,\n      previousData: this.previousData\n    }));\n\n    if (!queryResult.error && isNonEmptyArray(result.errors)) {\n      queryResult.error = new ApolloError({\n        graphQLErrors: result.errors\n      });\n    }\n\n    return queryResult;\n  };\n\n  InternalState.prototype.unsafeHandlePartialRefetch = function (result) {\n    if (result.partial && this.queryHookOptions.partialRefetch && !result.loading && (!result.data || Object.keys(result.data).length === 0) && this.observable.options.fetchPolicy !== 'cache-only') {\n      Object.assign(result, {\n        loading: true,\n        networkStatus: NetworkStatus.refetch\n      });\n      this.observable.refetch();\n    }\n  };\n\n  return InternalState;\n}();","import \"core-js/modules/esnext.global-this.js\";\nimport { useRef as e, useState as n, useEffect as t, useCallback as o } from \"react\";\nimport r from \"@use-it/event-listener\";\n\nvar l = {},\n    a = function a(e, n, t) {\n  return l[e] || (l[e] = {\n    callbacks: [],\n    value: t\n  }), l[e].callbacks.push(n), {\n    deregister: function deregister() {\n      var t = l[e].callbacks,\n          o = t.indexOf(n);\n      o > -1 && t.splice(o, 1);\n    },\n    emit: function emit(t) {\n      l[e].value !== t && (l[e].value = t, l[e].callbacks.forEach(function (e) {\n        n !== e && e(t);\n      }));\n    }\n  };\n};\n\nexport default function (l, u) {\n  if (void 0 === u && (u = \"undefined\" != typeof global && global.localStorage ? global.localStorage : \"undefined\" != typeof globalThis && globalThis.localStorage ? globalThis.localStorage : \"undefined\" != typeof window && window.localStorage ? window.localStorage : \"undefined\" != typeof localStorage ? localStorage : null), u) {\n    var i = function (e) {\n      return {\n        get: function get(n, t) {\n          var o = e.getItem(n);\n          return null == o ? \"function\" == typeof t ? t() : t : JSON.parse(o);\n        },\n        set: function set(n, t) {\n          e.setItem(n, JSON.stringify(t));\n        }\n      };\n    }(u);\n\n    return function (u) {\n      return function (l, u, i) {\n        var c = i.get,\n            f = i.set,\n            g = e(null),\n            s = n(function () {\n          return c(u, l);\n        }),\n            d = s[0],\n            p = s[1];\n        r(\"storage\", function (e) {\n          if (e.key === u) {\n            var n = JSON.parse(e.newValue);\n            d !== n && p(n);\n          }\n        }), t(function () {\n          return g.current = a(u, p, l), function () {\n            g.current.deregister();\n          };\n        }, [l, u]);\n        var v = o(function (e) {\n          var n = \"function\" == typeof e ? e(d) : e;\n          f(u, n), p(n), g.current.emit(e);\n        }, [d, f, u]);\n        return [d, v];\n      }(u, l, i);\n    };\n  }\n\n  return n;\n}","import { invariant } from \"../../utilities/globals/index.js\";\nimport { useContext } from 'react';\nimport { getApolloContext } from \"../context/index.js\";\nexport function useApolloClient(override) {\n  var context = useContext(getApolloContext());\n  var client = override || context.client;\n  __DEV__ ? invariant(!!client, 'Could not find \"client\" in the context or passed in as an option. ' + 'Wrap the root component in an <ApolloProvider>, or pass an ApolloClient ' + 'instance in via options.') : invariant(!!client, 29);\n  return client;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport { useMutation, gql, useQuery, useApolloClient } from '@apollo/client';\n\nimport createPersistedState from 'use-persisted-state';\nconst useAuthState = createPersistedState('auth');\n\nexport function useAuth() {\n  const [state] = useAuthState();\n\n  return state;\n}\n\nconst LOGIN = gql`\n  mutation Login($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n      refresh_token\n      payload\n    }\n  }\n`;\n\nconst PROFILE = gql`\n  {\n    profile {\n      email\n      personal_name\n      organization_name\n      terms_accepted\n      email_validated\n    }\n  }\n`;\n\nexport type Profile = {\n  email: string;\n  personal_name: string;\n  organization_name: string;\n  terms_accepted?: string;\n  email_validated?: string;\n};\n\nexport function useProfile() {\n  const auth = useAuth();\n\n  const { data, loading, error, refetch } = useQuery<{ profile: Profile }>(PROFILE, {\n    skip: !auth\n  });\n\n  if (!auth) return { data: null, error: 'No logged in' };\n\n  return { data: data?.profile, loading, error, refetch };\n}\n\nexport function useProfileIsComplete(): boolean {\n  const auth = useAuth();\n\n  const { data } = useQuery<{ profile: Profile }>(PROFILE, {\n    skip: !auth\n  });\n\n  if (!auth) return false;\n\n  const profile = data?.profile;\n\n  return !!(\n    profile &&\n    profile.personal_name &&\n    profile.organization_name &&\n    profile.terms_accepted &&\n    profile.email_validated\n  );\n}\n\nexport function useLoginEffect() {\n  const [, setAuthState] = useAuthState();\n  const [login, { data, loading, error }] = useMutation(LOGIN);\n  const client = useApolloClient();\n\n  return [\n    async (username, password) => {\n      const authdata = await login({ variables: { username, password } });\n\n      setAuthState(authdata.data);\n      client.resetStore();\n    },\n    {\n      data,\n      loading,\n      error\n    }\n  ];\n}\n\nexport function useLogoutEffect() {\n  const [, setState] = useAuthState();\n  const client = useApolloClient();\n\n  return [\n    () => {\n      setState(null);\n      client.resetStore();\n    }\n  ];\n}\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { mergeOptions } from \"../../core/index.js\";\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useMutation(mutation, options) {\n  var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n  verifyDocumentType(mutation, DocumentType.Mutation);\n\n  var _a = useState({\n    called: false,\n    loading: false,\n    client: client\n  }),\n      result = _a[0],\n      setResult = _a[1];\n\n  var ref = useRef({\n    result: result,\n    mutationId: 0,\n    isMounted: true,\n    client: client,\n    mutation: mutation,\n    options: options\n  });\n  {\n    Object.assign(ref.current, {\n      client: client,\n      options: options,\n      mutation: mutation\n    });\n  }\n  var execute = useCallback(function (executeOptions) {\n    if (executeOptions === void 0) {\n      executeOptions = {};\n    }\n\n    var _a = ref.current,\n        client = _a.client,\n        options = _a.options,\n        mutation = _a.mutation;\n\n    var baseOptions = __assign(__assign({}, options), {\n      mutation: mutation\n    });\n\n    if (!ref.current.result.loading && !baseOptions.ignoreResults) {\n      setResult(ref.current.result = {\n        loading: true,\n        error: void 0,\n        data: void 0,\n        called: true,\n        client: client\n      });\n    }\n\n    var mutationId = ++ref.current.mutationId;\n    var clientOptions = mergeOptions(baseOptions, executeOptions);\n    return client.mutate(clientOptions).then(function (response) {\n      var _a, _b, _c;\n\n      var data = response.data,\n          errors = response.errors;\n      var error = errors && errors.length > 0 ? new ApolloError({\n        graphQLErrors: errors\n      }) : void 0;\n\n      if (mutationId === ref.current.mutationId && !clientOptions.ignoreResults) {\n        var result_1 = {\n          called: true,\n          loading: false,\n          data: data,\n          error: error,\n          client: client\n        };\n\n        if (ref.current.isMounted && !equal(ref.current.result, result_1)) {\n          setResult(ref.current.result = result_1);\n        }\n      }\n\n      (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onCompleted) === null || _b === void 0 ? void 0 : _b.call(_a, response.data);\n      (_c = executeOptions.onCompleted) === null || _c === void 0 ? void 0 : _c.call(executeOptions, response.data);\n      return response;\n    }).catch(function (error) {\n      var _a, _b, _c, _d;\n\n      if (mutationId === ref.current.mutationId && ref.current.isMounted) {\n        var result_2 = {\n          loading: false,\n          error: error,\n          data: void 0,\n          called: true,\n          client: client\n        };\n\n        if (!equal(ref.current.result, result_2)) {\n          setResult(ref.current.result = result_2);\n        }\n      }\n\n      if (((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError) || clientOptions.onError) {\n        (_c = (_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onError) === null || _c === void 0 ? void 0 : _c.call(_b, error);\n        (_d = executeOptions.onError) === null || _d === void 0 ? void 0 : _d.call(executeOptions, error);\n        return {\n          data: void 0,\n          errors: error\n        };\n      }\n\n      throw error;\n    });\n  }, []);\n  var reset = useCallback(function () {\n    setResult({\n      called: false,\n      loading: false,\n      client: client\n    });\n  }, []);\n  useEffect(function () {\n    ref.current.isMounted = true;\n    return function () {\n      ref.current.isMounted = false;\n    };\n  }, []);\n  return [execute, __assign({\n    reset: reset\n  }, result)];\n}","import { useRef as e, useEffect as n } from \"react\";\nexport default function (t, r, i, o) {\n  void 0 === i && (i = global), void 0 === o && (o = {});\n  var c = e(),\n      u = o.capture,\n      a = o.passive,\n      v = o.once;\n  n(function () {\n    c.current = r;\n  }, [r]), n(function () {\n    if (i && i.addEventListener) {\n      var e = function e(_e) {\n        return c.current(_e);\n      },\n          n = {\n        capture: u,\n        passive: a,\n        once: v\n      };\n\n      return i.addEventListener(t, e, n), function () {\n        i.removeEventListener(t, e, n);\n      };\n    }\n  }, [t, i, u, a, v]);\n}","import { invariant } from \"../../utilities/globals/index.js\";\nexport var DocumentType;\n\n(function (DocumentType) {\n  DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n  DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n  DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType || (DocumentType = {}));\n\nvar cache = new Map();\nexport function operationName(type) {\n  var name;\n\n  switch (type) {\n    case DocumentType.Query:\n      name = 'Query';\n      break;\n\n    case DocumentType.Mutation:\n      name = 'Mutation';\n      break;\n\n    case DocumentType.Subscription:\n      name = 'Subscription';\n      break;\n  }\n\n  return name;\n}\nexport function parser(document) {\n  var cached = cache.get(document);\n  if (cached) return cached;\n  var variables, type, name;\n  __DEV__ ? invariant(!!document && !!document.kind, \"Argument of \".concat(document, \" passed to parser was not a valid GraphQL \") + \"DocumentNode. You may need to use 'graphql-tag' or another method \" + \"to convert your operation into a document\") : invariant(!!document && !!document.kind, 30);\n  var fragments = [];\n  var queries = [];\n  var mutations = [];\n  var subscriptions = [];\n\n  for (var _i = 0, _a = document.definitions; _i < _a.length; _i++) {\n    var x = _a[_i];\n\n    if (x.kind === 'FragmentDefinition') {\n      fragments.push(x);\n      continue;\n    }\n\n    if (x.kind === 'OperationDefinition') {\n      switch (x.operation) {\n        case 'query':\n          queries.push(x);\n          break;\n\n        case 'mutation':\n          mutations.push(x);\n          break;\n\n        case 'subscription':\n          subscriptions.push(x);\n          break;\n      }\n    }\n  }\n\n  __DEV__ ? invariant(!fragments.length || queries.length || mutations.length || subscriptions.length, \"Passing only a fragment to 'graphql' is not yet supported. \" + \"You must include a query, subscription or mutation as well\") : invariant(!fragments.length || queries.length || mutations.length || subscriptions.length, 31);\n  __DEV__ ? invariant(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" + \"\".concat(document, \" had \").concat(queries.length, \" queries, \").concat(subscriptions.length, \" \") + \"subscriptions and \".concat(mutations.length, \" mutations. \") + \"You can use 'compose' to join multiple operation types to a component\") : invariant(queries.length + mutations.length + subscriptions.length <= 1, 32);\n  type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n  if (!queries.length && !mutations.length) type = DocumentType.Subscription;\n  var definitions = queries.length ? queries : mutations.length ? mutations : subscriptions;\n  __DEV__ ? invariant(definitions.length === 1, \"react-apollo only supports one definition per HOC. \".concat(document, \" had \") + \"\".concat(definitions.length, \" definitions. \") + \"You can use 'compose' to join multiple operation types to a component\") : invariant(definitions.length === 1, 33);\n  var definition = definitions[0];\n  variables = definition.variableDefinitions || [];\n\n  if (definition.name && definition.name.kind === 'Name') {\n    name = definition.name.value;\n  } else {\n    name = 'data';\n  }\n\n  var payload = {\n    name: name,\n    type: type,\n    variables: variables\n  };\n  cache.set(document, payload);\n  return payload;\n}\nexport function verifyDocumentType(document, type) {\n  var operation = parser(document);\n  var requiredOperationName = operationName(type);\n  var usedOperationName = operationName(operation.type);\n  __DEV__ ? invariant(operation.type === type, \"Running a \".concat(requiredOperationName, \" requires a graphql \") + \"\".concat(requiredOperationName, \", but a \").concat(usedOperationName, \" was used instead.\")) : invariant(operation.type === type, 34);\n}"],"sourceRoot":""}