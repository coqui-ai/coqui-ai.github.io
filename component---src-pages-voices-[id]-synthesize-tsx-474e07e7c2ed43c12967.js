(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"3oQa":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,i=n("MUpH"),l=n("q1tI"),r=n.n(l),o=n("UYTu"),c=n("+TN3"),d=n("+mFw"),u=Object(o.d)(a||(a=Object(i.a)(["\n  query Sample($id: String!) {\n    sample(id: $id) {\n      id\n      audio_url\n    }\n  }\n"]))),m=function(e){var t=e.loading,n=e.sample,a=e.children,i=Object(c.b)(u,{variables:{id:n.id},fetchPolicy:"network-only",skip:!!n.audio_url}),o=i.data,m=i.startPolling,s=i.stopPolling,p=n.audio_url?n:null==o?void 0:o.sample;return Object(l.useEffect)((function(){null!=p&&p.audio_url?s():m(1e4)})),null!=p&&p.audio_url?a(p):t||r.a.createElement(d.c,null)}},yJD0:function(e,t,n){"use strict";n.r(t);var a,i,l=n("q1tI"),r=n.n(l),o=n("1Yd/"),c=n("O9mE"),d=n("7cfw"),u=n("t4Fg"),m=n("rU9Z"),s=n("rePB"),p=n("MUpH"),b=n("UYTu"),f=n("+TN3"),v=n("pZLH"),g=n("KYPV"),h=n("ENkJ"),y=n("vOnD"),E=n("A0PP"),O=n("it4z"),_=n("x8No"),x=n("+mFw"),S=n("Wbzz"),j=n("Z3dF"),w=n("jLYo"),N=n("62CP"),P=n("Khmm"),k=n("3oQa");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=Object(b.d)(a||(a=Object(p.a)(["\n  query voice($id: String!) {\n    voice(id: $id) {\n      id\n      name\n    }\n  }\n"]))),I=Object(b.d)(i||(i=Object(p.a)(["\n  mutation createSample($name: String!, $voice_id: String!, $text: String!, $speed: String!) {\n    createSample(name: $name, voice_id: $voice_id, text: $text, speed: $speed) {\n      errors {\n        field\n        errors\n      }\n      sample {\n        id\n        name\n        created_at\n        voice_id\n        audio_url\n      }\n    }\n  }\n"]))),$=Object(y.e)(h.f).withConfig({displayName:"Synthesize___StyledGardenFormsLabel",componentId:"sc-5ox1bb-0"})(["font-weight:400;"]),V=Object(y.e)(N.b).withConfig({displayName:"Synthesize___StyledWell",componentId:"sc-5ox1bb-1"})(["height:103px;padding:0;color:#313940;border-color:#186146;overflow:hidden;margin-bottom:30px;"]),D=Object(y.e)("div").withConfig({displayName:"Synthesize___StyledDiv",componentId:"sc-5ox1bb-2"})(["background-color:rgba(24,97,70,0.1);height:44px;display:flex;justify-content:center;align-items:center;margin:0 -30px;& div{flex-grow:1;width:33%;display:flex;justify-content:center;align-items:center;}"]),T=Object(y.e)("div").withConfig({displayName:"Synthesize___StyledDiv2",componentId:"sc-5ox1bb-3"})(["height:5px;display:flex;justify-content:center;align-items:center;margin:-2.5px 90px;& div{flex-grow:1;height:5px;width:33%;margin-left:-1px;border-left:1px #186146 solid;border-right:1px #186146 solid;}"]),U=Object(y.e)("div").withConfig({displayName:"Synthesize___StyledDiv3",componentId:"sc-5ox1bb-4"})(["padding:20px 83px;"]),Y=Object(g.d)((function(e){return r.a.createElement(E.ThemeProvider,{focusVisibleRef:null,theme:function(e){return F(F({},e),{},{space:F(F({},e.space),{},{base:3}),colors:F(F({},e.colors),{},{primaryHue:"#ed8f1c"})})}},r.a.createElement(h.b,null,r.a.createElement($,null,"Speed"),r.a.createElement(V,null,r.a.createElement(D,null,r.a.createElement("div",{onClick:function(){return e.formik.setFieldValue("speed",0)}},"Slower"),r.a.createElement("div",{onClick:function(){return e.formik.setFieldValue("speed",1)}},"Normal"),r.a.createElement("div",{onClick:function(){return e.formik.setFieldValue("speed",2)}},"Faster")),r.a.createElement(T,null,r.a.createElement("div",null," "),r.a.createElement("div",null," ")),r.a.createElement(U,null,r.a.createElement(g.a,{name:"speed",id:"speed",as:h.i,min:0,max:2})))))})),R=y.e.div.withConfig({displayName:"Synthesize__PlayerBar",componentId:"sc-5ox1bb-5"})(["height:84px;background-color:#f8f8f8;display:flex;align-items:center;"]),q=Object(y.e)(j.a).withConfig({displayName:"Synthesize___StyledLink",componentId:"sc-5ox1bb-6"})(["vertical-align:middle;margin-right:8px;"]),H=Object(y.e)(h.b).withConfig({displayName:"Synthesize___StyledGardenFormsField",componentId:"sc-5ox1bb-7"})(["min-height:106px;"]),L=Object(y.e)(h.f).withConfig({displayName:"Synthesize___StyledGardenFormsLabel2",componentId:"sc-5ox1bb-8"})(["font-weight:400;"]),J=function(e){var t,n,a=e.locationState,i=void 0===a?null:a,l=e.id,o=Object(f.b)(z,{variables:{id:l}}),c=o.data,d=o.loading,u=(o.error,null==c?void 0:c.voice),m=Object(v.a)(I,{update:function(e,t){var n,a,i;null!=t&&null!==(n=t.data)&&void 0!==n&&null!==(a=n.createSample)&&void 0!==a&&null!==(i=a.sample)&&void 0!==i&&i.voice_id&&(e.evict({id:"ROOT_QUERY",fieldName:"samples",args:{voice_id:t.data.createSample.sample.voice_id}}),e.evict({id:"ROOT_QUERY",fieldName:"voices"}))}}),s=m[0],p=m[1],b=null==p||null===(t=p.data)||void 0===t||null===(n=t.createSample)||void 0===n?void 0:n.sample;return d?r.a.createElement(x.c,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.e,null,r.a.createElement(q,{to:"/voices"},r.a.createElement(w.a,{size:24})),"Synthesize Voice"),r.a.createElement(x.a,null,r.a.createElement(g.c,{initialValues:F({name:"",text:"",speed:"1"},null==i?void 0:i.formValues),validate:function(e){var t={};return["text"].forEach((function(n){e[n]||(t[n]="Required.")})),!e.name&&e.text&&(e.name=e.text.slice(0,30)),t},onSubmit:function(e){s({variables:F(F({},e),{},{speed:{0:"1.5",1:"1",2:"0.7"}[e.speed],voice_id:u.id})}).catch((function(){}))}},(function(e){var t=e.values;return r.a.createElement(g.b,null,r.a.createElement(H,null,r.a.createElement(L,null,"Select Voice"),r.a.createElement(O.a,{value:u,onSelect:function(e){Object(S.d)("/voices/"+e.id+"/synthesize",{state:{formValues:t}})},style:{marginTop:9,fontWeight:700,backgroundColor:"#F2F4F5"}})),r.a.createElement(_.b,{name:"text",label:"Input your text here",maxCharCount:250,as:h.j,style:{height:120},fieldStyle:{minHeight:190}}),r.a.createElement(Y,null),r.a.createElement(_.a,{name:"name",label:"Name your audio",as:h.e}),p.error&&r.a.createElement(h.h,{validation:"error"},p.error.message),r.a.createElement(_.c,{loading:p.loading},"Submit"))}))),b&&r.a.createElement(k.a,{sample:b},(function(e){return r.a.createElement(R,null,r.a.createElement(x.a,null,r.a.createElement(P.a,{src:"/"===e.audio_url[0]?"http://localhost:8001"+e.audio_url:e.audio_url})))})))};t.default=function(e){var t=e.location,n=e.id;return Object(l.useEffect)((function(){Object(u.a)()})),r.a.createElement(c.a,{hasSkipNav:!1,showVoiceSearch:!0},r.a.createElement(o.a,null),r.a.createElement(m.a,null,r.a.createElement(J,{locationState:t.state,id:n})),r.a.createElement(d.a,null))}}}]);
//# sourceMappingURL=component---src-pages-voices-[id]-synthesize-tsx-474e07e7c2ed43c12967.js.map