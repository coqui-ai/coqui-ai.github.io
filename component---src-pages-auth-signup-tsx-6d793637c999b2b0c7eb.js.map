{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.object.from-entries.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/iterate.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/iterators.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/create-property.js","webpack:///./src/layouts/Auth/components/SignUpForm.tsx","webpack:///./src/pages/auth/signup.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/internals/get-iterator.js"],"names":["wellKnownSymbol","Iterators","ITERATOR","ArrayPrototype","Array","prototype","module","exports","it","undefined","$","iterate","createProperty","target","stat","fromEntries","iterable","obj","k","v","AS_ENTRIES","anObject","isArrayIteratorMethod","toLength","bind","getIterator","getIteratorMethod","iteratorClose","Result","stopped","result","this","unboundFunction","options","iterator","iterFn","index","length","next","step","that","IS_ITERATOR","INTERRUPTED","fn","stop","condition","callFn","value","TypeError","call","done","error","kind","innerResult","innerError","classof","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","key","propertyKey","f","SIGN_UP","gql","SignUpForm","user","useAuth","useMutation","signUp","data","loading","logout","useLogoutEffect","onClick","date_joined","initialValues","email","password","password2","validate","values","errors","forEach","onSubmit","formik","variables","then","setStatus","Object","map","field","join","touched","status","__all__","htmlFor","id","name","type","placeholder","AuthPage","useEffect","consentedToGoogleAnalytics","Root","hasSkipNav","SEO","usingIterator","iteratorMethod","arguments","String"],"mappings":"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","file":"component---src-pages-auth-signup-tsx-6d793637c999b2b0c7eb.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","module.exports = {};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = iterator['return'];\n    if (innerResult === undefined) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = innerResult.call(iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { useAuth, useLoginEffect, useLogoutEffect } from '../../../../utils/auth';\nimport { Formik, Field, Form } from 'formik';\nimport { useMutation, gql } from '@apollo/client';\n\nconst SIGN_UP = gql`\n  mutation SignUp($email: String!, $password: String!) {\n    signUp(email: $email, password: $password) {\n      errors {\n        field\n        errors\n      }\n      date_joined\n    }\n  }\n`;\n\nexport const SignUpForm = () => {\n  const user = useAuth();\n  const [signUp, { data, loading, error }] = useMutation(SIGN_UP);\n  const [logout] = useLogoutEffect();\n\n  if (user)\n    return (\n      <>\n        already logged in\n        <button onClick={() => logout()}>sign out</button>\n      </>\n    );\n\n  if (error) return 'error ' + error;\n  // if (loading) return 'loading ' + loading;\n  if (data?.signUp?.date_joined) return 'data ' + data.signUp.date_joined;\n\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: '',\n        password2: ''\n      }}\n      validate={values => {\n        const errors = {};\n\n        ['email', 'password', 'password2'].forEach(k => {\n          if (!values[k]) errors[k] = 'Required.';\n        });\n\n        if (values.password != values.password2) errors.password2 = 'Passwords must match';\n\n        return errors;\n      }}\n      onSubmit={({ email, password }, formik) =>\n        signUp({ variables: { email, password } }).then(({ data }) => {\n          if (data.signUp.errors) {\n            formik.setStatus(\n              Object.fromEntries(\n                data.signUp.errors.map(({ field, errors }) => [field, errors.join(' ')])\n              )\n            );\n          } else {\n            return data;\n          }\n        })\n      }\n    >\n      {({ errors, touched, status }) => (\n        <Form>\n          {status?.__all__ ? <div>{status.__all__}</div> : null}\n\n          <label htmlFor=\"email\">Email</label>\n          <Field id=\"email\" name=\"email\" type=\"email\" placeholder=\"\" />\n          {errors.email && touched.email ? <div>{errors.email}</div> : null}\n          {status?.email ? <div>{status.email}</div> : null}\n\n          <label htmlFor=\"password\">Password</label>\n          <Field id=\"password\" name=\"password\" type=\"password\" placeholder=\"\" />\n          {errors.password && touched.password ? <div>{errors.password}</div> : null}\n          {status?.password ? <div>{status.password}</div> : null}\n\n          <label htmlFor=\"password2\">Password</label>\n          <Field id=\"password2\" name=\"password2\" type=\"password2\" placeholder=\"\" />\n          {errors.password2 && touched.password2 ? <div>{errors.password2}</div> : null}\n\n          <button type=\"submit\">Sign Up</button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect } from 'react';\n// import navs from '../nav/blog';\nimport SEO from 'components/SEO';\nimport RootLayout from 'layouts/Root';\nimport { SignUpForm } from 'layouts/Auth/components/SignUpForm';\n\n// import { graphql, useStaticQuery } from 'gatsby';\nimport GogleAnalyticsCookieConsent from 'components/Cookies';\nimport { consentedToGoogleAnalytics } from 'utils/GoogleAnalytics';\n\nconst AuthPage: React.FC = () => {\n  useEffect(() => {\n    consentedToGoogleAnalytics();\n  });\n\n  return (\n    <RootLayout hasSkipNav={false}>\n      <SEO />\n      <SignUpForm />\n      <GogleAnalyticsCookieConsent />\n    </RootLayout>\n  );\n};\n\nexport default AuthPage;\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(it) : usingIterator;\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n"],"sourceRoot":""}