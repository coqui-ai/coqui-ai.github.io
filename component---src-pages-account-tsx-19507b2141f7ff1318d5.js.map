{"version":3,"sources":["webpack:///./src/layouts/Account/components/Account.tsx","webpack:///./src/pages/account.tsx"],"names":["BILLING_INFO","gql","invoicesKeys","Account","useQuery","data","loading","error","billingInfo","plan","name","currentCostCents","toFixed","map","k","key","invoices","i","since","ProfilePage","useEffect","consentedToGoogleAnalytics","Root","hasSkipNav","showVoiceSearch","SEO","RequireAuth"],"mappings":"kNAUMA,EAAeC,YAAH,kTAwBlB,IAAMC,EAAe,CACnB,YACA,SACA,iBACA,kBACA,uBACA,cACA,aAGWC,EAAoB,WAC/B,MAAiCC,YAASJ,GAAlCK,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAASC,EAAvB,EAAuBA,MAEvB,GAAID,EAAS,OAAO,wDACpB,GAAIC,EACF,OACE,6BACE,6BAAM,GAAKA,IAIjB,IAAQC,EAAgBH,EAAhBG,YAER,OACE,sCACSA,EAAYC,KAAKC,KACxB,6BAFF,wBA3BK,KA8B6BF,EAAYG,iBA9B1B,KAAKC,QAAQ,GA2BjC,0CAKE,6BALF,YAOE,+BACE,+BACE,4BACGV,EAAaW,KAAI,SAAAC,GAAC,OACjB,wBAAIC,IAAKD,GAAIA,QAInB,+BACGN,EAAYQ,SAASH,KAAI,SAAAI,GAAC,OACzB,wBAAIF,IAAKE,EAAEC,OACRhB,EAAaW,KAAI,SAAAC,GAAC,OACjB,wBAAIC,IAAKD,GAAIG,EAAEH,e,YC5ChBK,UAhBe,WAK5B,OAJAC,qBAAU,WACRC,iBAIA,kBAACC,EAAA,EAAD,CAAYC,YAAY,EAAOC,iBAAiB,GAC9C,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,OAEF,kBAAC,IAAD","file":"component---src-pages-account-tsx-19507b2141f7ff1318d5.js","sourcesContent":["/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\n\nconst BILLING_INFO = gql`\n  {\n    billingInfo {\n      plan {\n        name\n      }\n      currentCostCents\n      invoices {\n        createdAt\n        status\n        amountDueCents\n        amountPaidCents\n        amountRemainingCents\n        periodStart\n        periodEnd\n      }\n    }\n  }\n`;\n\nfunction asDollars(cents: number): string {\n  return '$' + (cents / 100).toFixed(2);\n}\n\nconst invoicesKeys = [\n  'createdAt',\n  'status',\n  'amountDueCents',\n  'amountPaidCents',\n  'amountRemainingCents',\n  'periodStart',\n  'periodEnd'\n];\n\nexport const Account: React.FC = () => {\n  const { data, loading, error } = useQuery(BILLING_INFO);\n\n  if (loading) return <div>Loading billing info...</div>;\n  if (error)\n    return (\n      <div>\n        <pre>{'' + error}</pre>\n      </div>\n    );\n\n  const { billingInfo } = data;\n\n  return (\n    <div>\n      Plan: {billingInfo.plan.name}\n      <br />\n      Current period owed: {asDollars(billingInfo.currentCostCents)} (this data might be slightly\n      outdated)\n      <br />\n      Invoices:\n      <table>\n        <thead>\n          <tr>\n            {invoicesKeys.map(k => (\n              <th key={k}>{k}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {billingInfo.invoices.map(i => (\n            <tr key={i.since}>\n              {invoicesKeys.map(k => (\n                <td key={k}>{i[k]}</td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect } from 'react';\n// import navs from '../nav/blog';\nimport SEO from 'components/SEO';\nimport RootLayout from 'layouts/Root';\n// import { graphql, useStaticQuery } from 'gatsby';\nimport GogleAnalyticsCookieConsent from 'components/Cookies';\nimport { consentedToGoogleAnalytics } from 'utils/GoogleAnalytics';\nimport { Account } from 'layouts/Account/components/Account';\nimport RequireAuth from 'layouts/Auth/components/RequireAuth';\n\nconst ProfilePage: React.FC = () => {\n  useEffect(() => {\n    consentedToGoogleAnalytics();\n  });\n\n  return (\n    <RootLayout hasSkipNav={false} showVoiceSearch={true}>\n      <SEO />\n      <RequireAuth>\n        <Account />\n      </RequireAuth>\n      <GogleAnalyticsCookieConsent />\n    </RootLayout>\n  );\n};\n\nexport default ProfilePage;\n"],"sourceRoot":""}