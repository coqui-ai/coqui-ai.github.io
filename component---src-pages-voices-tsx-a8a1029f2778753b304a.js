(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"14Yg":function(e,n,a){"use strict";a.r(n);var t,r=a("q1tI"),o=a.n(r),l=a("1Yd/"),i=a("O9mE"),c=a("7cfw"),u=a("t4Fg"),m=a("Tmkn"),s=a("MUpH"),f=a("UYTu"),p=a("+TN3"),d=a("YwZP"),E=Object(f.d)(t||(t=Object(s.a)(["\n  {\n    voices {\n      id\n      name\n    }\n  }\n"]))),_=function(){var e=Object(p.a)(E),n=e.data,a=e.loading,t=e.error;return a?"loading":t?o.a.createElement("pre",null,JSON.stringify(t)):o.a.createElement("div",null,"all my voices ",o.a.createElement(d.Link,{to:"/voices/create"},"Create"),o.a.createElement("hr",null),o.a.createElement("ul",null,n.voices.map((function(e){return o.a.createElement("li",null,e.name," ",e.id)}))))};n.default=function(){return Object(r.useEffect)((function(){Object(u.a)()})),o.a.createElement(i.a,{hasSkipNav:!1},o.a.createElement(l.a,null),o.a.createElement(m.b,null,o.a.createElement(_,null)),o.a.createElement(c.a,null))}},"4qeh":function(e,n,a){var t=a("QD2z"),r=a("PwZr"),o=t("iterator"),l=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||l[o]===e)}},CYIj:function(e,n,a){var t=a("ZS3K"),r=a("Djkm"),o=a("fEfC");t({target:"Object",stat:!0},{fromEntries:function(e){var n={};return r(e,(function(e,a){o(n,e,a)}),{AS_ENTRIES:!0}),n}})},Djkm:function(e,n,a){var t=a("m/aQ"),r=a("4qeh"),o=a("WD+B"),l=a("ehR5"),i=a("rYq8"),c=a("aQoS"),u=a("Zgnq"),m=function(e,n){this.stopped=e,this.result=n};e.exports=function(e,n,a){var s,f,p,d,E,_,g,b=a&&a.that,v=!(!a||!a.AS_ENTRIES),h=!(!a||!a.IS_ITERATOR),w=!(!a||!a.INTERRUPTED),j=l(n,b,1+v+w),z=function(e){return s&&u(s,"normal",e),new m(!0,e)},y=function(e){return v?(t(e),w?j(e[0],e[1],z):j(e[0],e[1])):w?j(e,z):j(e)};if(h)s=e;else{if("function"!=typeof(f=c(e)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,d=o(e.length);d>p;p++)if((E=y(e[p]))&&E instanceof m)return E;return new m(!1)}s=i(e,f)}for(_=s.next;!(g=_.call(s)).done;){try{E=y(g.value)}catch(O){u(s,"throw",O)}if("object"==typeof E&&E&&E instanceof m)return E}return new m(!1)}},GfTH:function(e,n,a){"use strict";a.d(n,"a",(function(){return i}));var t=a("q1tI"),r=a.n(t),o=a("TYz2"),l=a("KYPV"),i=function(){var e=Object(o.a)(),n=Object(o.b)(),a=n[0],t=n[1],i=t.data,c=t.loading,u=t.error,m=Object(o.c)()[0];return e?r.a.createElement(r.a.Fragment,null,"already logged in",r.a.createElement("button",{onClick:function(){return m()}},"sign out")):u?"error "+u:c?"loading "+c:i?"data "+i:r.a.createElement(l.c,{initialValues:{username:"",password:""},onSubmit:function(e){a(e.username,e.password)}},r.a.createElement(l.b,null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(l.a,{id:"username",name:"username",placeholder:""}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(l.a,{id:"password",name:"password",type:"password",placeholder:""}),r.a.createElement("button",{type:"submit"},"Sign In")))}},PwZr:function(e,n){e.exports={}},Tmkn:function(e,n,a){"use strict";a.d(n,"a",(function(){return g})),a.d(n,"b",(function(){return b}));var t,r,o=a("q1tI"),l=a.n(o),i=a("TYz2"),c=a("MUpH"),u=a("UYTu"),m=a("pZLH"),s=Object(u.d)(t||(t=Object(c.a)(["\n  mutation {\n    updateProfile(terms_accepted: true) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        terms_accepted\n      }\n    }\n  }\n"]))),f=function(){var e=Object(m.a)(s),n=e[0],a=e[1],t=(a.loading,a.error,Object(o.useState)(!1)),r=t[0],i=t[1];return l.a.createElement("div",null,"terms terms",l.a.createElement("input",{type:"checkbox",checked:r,onChange:function(e){return i(e.target.checked)}}),l.a.createElement("button",{disabled:!r,onClick:n},"okay"))},p=(a("CYIj"),a("KYPV")),d=Object(u.d)(r||(r=Object(c.a)(["\n  mutation updateProfile($personal_name: String!, $organization_name: String!) {\n    updateProfile(personal_name: $personal_name, organization_name: $organization_name) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        organization_name\n        personal_name\n        terms_accepted\n      }\n    }\n  }\n"]))),E=function(e){var n=e.profile,a=Object(m.a)(d),t=a[0],r=a[1];r.data,r.loading,r.error;return l.a.createElement(p.c,{initialValues:{personal_name:n.personal_name,organization_name:n.organization_name},validate:function(e){var n={};return["personal_name","organization_name"].forEach((function(a){e[a]||(n[a]="Required.")})),n},onSubmit:function(e,n){var a=e.personal_name,r=e.organization_name;return t({variables:{personal_name:a,organization_name:r}}).then((function(e){var a=e.data;if(!a.errors)return a;n.setStatus(Object.fromEntries(a.errors.map((function(e){return[e.field,e.errors.join(" ")]}))))}))}},(function(e){var n=e.errors,a=e.touched,t=e.status;return l.a.createElement(p.b,null,null!=t&&t.__all__?l.a.createElement("div",null,t.__all__):null,l.a.createElement("label",{htmlFor:"personal_name"},"Enter your name here:"),l.a.createElement(p.a,{id:"personal_name",name:"personal_name",type:"personal_name",placeholder:""}),n.personal_name&&a.personal_name?l.a.createElement("div",null,n.personal_name):null,null!=t&&t.personal_name?l.a.createElement("div",null,t.personal_name):null,l.a.createElement("label",{htmlFor:"organization_name"},"Name of organization:"),l.a.createElement(p.a,{id:"organization_name",name:"organization_name",type:"organization_name",placeholder:""}),n.organization_name&&a.organization_name?l.a.createElement("div",null,n.organization_name):null,null!=t&&t.organization_name?l.a.createElement("div",null,t.organization_name):null,l.a.createElement("button",{type:"submit"},"Sign Up & Login"))}))},_=a("GfTH"),g=l.a.createContext(null),b=function(e){var n=e.children,a=Object(i.d)(),t=a.data,r=a.loading,o=a.error;return r?"Loading...":o||!t?l.a.createElement(_.a,null):t.personal_name&&t.organization_name?t.terms_accepted?l.a.createElement(g.Provider,{value:t},n):l.a.createElement(f,null):l.a.createElement(E,{profile:t})}},Zgnq:function(e,n,a){var t=a("m/aQ");e.exports=function(e,n,a){var r,o;t(e);try{if(void 0===(r=e.return)){if("throw"===n)throw a;return a}r=r.call(e)}catch(l){o=!0,r=l}if("throw"===n)throw a;if(o)throw r;return t(r),a}},aQoS:function(e,n,a){var t=a("yjCN"),r=a("PwZr"),o=a("QD2z")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[t(e)]}},fEfC:function(e,n,a){"use strict";var t=a("3jhN"),r=a("jekk"),o=a("46f4");e.exports=function(e,n,a){var l=t(n);l in e?r.f(e,l,o(0,a)):e[l]=a}},rYq8:function(e,n,a){var t=a("m/aQ"),r=a("aQoS");e.exports=function(e,n){var a=arguments.length<2?r(e):n;if("function"!=typeof a)throw TypeError(String(e)+" is not iterable");return t(a.call(e))}}}]);
//# sourceMappingURL=component---src-pages-voices-tsx-a8a1029f2778753b304a.js.map