{"version":3,"sources":["webpack:///./src/layouts/Editor/ProjectLayout.tsx","webpack:///./src/pages/editor/project/[project_id].tsx","webpack:///./src/layouts/Editor/components/Mutations.tsx","webpack:///./src/layouts/Editor/components/RequireEditorAccess.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.object.from-entries.js","webpack:///./src/layouts/Editor/components/ClientSide.tsx","webpack:///./src/layouts/Editor/components/Queries.tsx","webpack:///./src/layouts/Auth/components/registration/AcceptTerms.tsx","webpack:///./src/layouts/Auth/components/registration/CompleteProfile.tsx","webpack:///./node_modules/iconsax-react/dist/esm/SmsTracking.js","webpack:///./src/layouts/Auth/components/registration/VerifyEmail.tsx","webpack:///./src/layouts/Auth/components/RequireAuth.tsx"],"names":["ProjectLayout","projectId","useQuery","queries","variables","project_id","scenes","data","loading","useMutation","mutations","update","cache","evict","id","fieldName","createScene","createDefaultScene","createdScene","creating","error","a","name","description","scene","navigate","useEffect","length","ClientSide","RequireEditorAccess","ProjectPage","Root","hasSkipNav","CREATE_PROJECT","gql","CREATE_SCENE","CREATE_LINE","CREATE_TAKE","DELETE_LINE","children","useProfile","profile","can_access_editor","$","iterate","createProperty","target","stat","fromEntries","iterable","obj","k","v","AS_ENTRIES","useState","isClient","setIsClient","PROJECTS","PROJECT","SCENES","SCENE","LINES","EMOTIONS","SPEAKERS","ACCEPT_TERMS","p","mediaQuery","theme","AcceptTerms","acceptTerms","isChecked","setChecked","title","isBold","checked","onChange","disabled","onClick","UPDATE_PROFILE","CompleteProfile","updateProfile","initialValues","personal_name","organization_name","validate","values","errors","forEach","onSubmit","formik","then","setStatus","Object","map","field","join","status","__all__","label","as","Input","_excluded","_ref","color","createElement","Fragment","d","fill","_ref2","stroke","strokeWidth","strokeMiterlimit","strokeLinecap","strokeLinejoin","_ref3","opacity","_ref4","_ref5","_ref6","SmsTracking","_ref7","ref","variant","size","rest","xmlns","width","height","viewBox","defaultProps","displayName","VerifyEmail","ClientOnly","display","setDisplay","window","RequireAuth","useRedirectToNewDomain","SignInForm","terms_accepted","email_validated"],"mappings":"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","file":"component---src-pages-editor-project-project-id-tsx-c8f881e168027214d28f.js","sourcesContent":["/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect } from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { navigate } from 'gatsby';\nimport RequireEditorAccess from './components/RequireEditorAccess';\nimport ClientSide from './components/ClientSide';\nimport * as mutations from './components/Mutations';\nimport * as queries from './components/Queries';\n\nconst ProjectLayout = ({projectId}) => {\n  const { data: scenes, loading } = useQuery(queries.SCENES, { variables: { project_id: projectId } });\n  const [createScene, { createdScene, creating, error }] = useMutation(mutations.CREATE_SCENE, {\n    update: cache => {\n      cache.evict({\n        id: 'ROOT_QUERY',\n        fieldName: 'scenes'\n      });\n    }\n  });\n\n  const createDefaultScene = async () => {\n    const scene = await createScene({\n      variables: {\n        project_id: projectId,\n        name: \"Scene 1\",\n        description: \"\",\n      }\n    });\n    // Default scene created, navigate to it\n    if (scene?.createScene?.scene?.id) {\n      navigate(`/editor/project/${projectId}/scene/${scene?.createScene?.scene?.id}/`);\n    }\n  }\n\n  useEffect(() => {\n    if (!scenes) {\n      return;\n    }\n    if (!scenes.scenes?.length) {\n      createDefaultScene();\n    } else {\n      // Go to first scene\n      navigate(`/editor/project/${projectId}/scene/${scenes.scenes[0].id}/`);\n    }\n  }, [scenes]);\n\n  return (\n    <ClientSide>\n      <RequireEditorAccess>\n        Project {projectId}\n      </RequireEditorAccess>\n    </ClientSide>\n  );\n};\n\nexport default ProjectLayout;\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport RootLayout from 'layouts/Root';\nimport ProjectLayout from 'layouts/Editor/ProjectLayout';\nimport GogleAnalyticsCookieConsent from 'components/Cookies';\n\nconst ProjectPage = ({project_id}) => {\n  return (\n    <RootLayout hasSkipNav={false}>\n      <ProjectLayout projectId={project_id}/>\n      <GogleAnalyticsCookieConsent/>\n    </RootLayout>\n  );\n};\n\nexport default ProjectPage;\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport { gql } from '@apollo/client';\n\nexport const CREATE_PROJECT = gql`\n  mutation createProject($name: String!, $description: String!) {\n    createProject(name: $name, description: $description) {\n      errors {\n        field\n        errors\n      }\n      project {\n        id\n        name\n        description\n        created_at\n      }\n    }\n  }\n`;\n\nexport const CREATE_SCENE = gql`\n  mutation createScene($project_id: String!, $name: String!, $description: String!) {\n    createScene(project_id: $project_id, name: $name, description: $description) {\n      errors {\n        field\n        errors\n      }\n      scene {\n        id\n        name\n        description\n        created_at\n      }\n    }\n  }\n`;\n\nexport const CREATE_LINE = gql`\n  mutation createLine($scene_id: String!, $text: String!, $speaker_id: String!, $emotion_id: String!, $speed: Float!, $emotion_intensity: Float!) {\n    createLine(scene_id: $scene_id, text: $text, speaker_id: $speaker_id, emotion_id: $emotion_id, speed: $speed, emotion_intensity: $emotion_intensity) {\n      line {\n        id\n      }\n      take {\n        id\n        text\n        audio_url\n      }\n    }\n  }\n`;\n\nexport const CREATE_TAKE = gql`\n  mutation createTake($line_id: String!, $text: String!, $speaker_id: String!, $emotion_id: String!, $speed: Float!, $emotion_intensity: Float!) {\n    createTake(line_id: $line_id, text: $text, speaker_id: $speaker_id, emotion_id: $emotion_id, speed: $speed, emotion_intensity: $emotion_intensity) {\n      line {\n        id\n      }\n      take {\n        id\n        text\n        saved\n        audio_url\n      }\n    }\n  }\n`;\n\nexport const DELETE_LINE = gql`\n  mutation deleteLine($line_id: String!) {\n    deleteLine(line_id: $line_id) {\n      success\n      errors\n    }\n  }\n`;\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { useProfile } from 'utils/auth';\nimport RequireAuth from 'layouts/Auth/components/RequireAuth';\n\nconst RequireEditorAccess = ({ children }) => {\n  const { data: profile, loading, error } = useProfile();\n\n  if (error) {\n    return 'error';\n  }\n\n  if (!profile) {\n    return 'no profile';\n  }\n\n  if (!profile.can_access_editor) {\n    return 'not allowed';\n  }\n\n  return (\n    <RequireAuth>\n      {children}\n    </RequireAuth>\n  );\n};\n\nexport default RequireEditorAccess;\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useState, useEffect } from 'react';\n\nconst ClientSide = ({ children }) => {\n  const [isClient, setIsClient] = useState<boolean>(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  return (\n    <div\n      css={css`\n        transition: opacity 100ms;\n        opacity: ${isClient ? '1.0' : '0.0'};\n      `}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default ClientSide;\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport { gql } from '@apollo/client';\n\nexport const PROJECTS = gql`{\n  projects {\n    id\n    name\n    description\n    created_at\n  }\n}`;\n\nexport const PROJECT = gql`\n  query project($project_id: String!) {\n    project(id: $project_id) {\n      id\n      name\n      description\n      created_at\n    }\n  }\n`;\n\nexport const SCENES = gql`\n  query scenes($project_id: String!) {\n    scenes(project_id: $project_id) {\n      id\n      name\n      description\n      created_at\n    }\n  }\n`;\n\nexport const SCENE = gql`\n  query scene($scene_id: String!) {\n    scene(id: $scene_id) {\n      id\n      name\n      description\n      created_at\n    }\n  }\n`;\n\nexport const LINES = gql`\n  query lines($scene_id: String!) {\n    lines(scene_id: $scene_id) {\n      id\n      last_render {\n        text\n        speaker {\n          id\n          name\n        }\n        emotion {\n          id\n          name\n        }\n        emotion_intensity\n        speed\n        audio_url\n      }\n      takes {\n        id\n        audio_url\n      }\n    }\n  }\n`;\n\nexport const EMOTIONS = gql`{\n  emotions {\n    id\n    name\n  }\n}`;\n\nexport const SPEAKERS = gql`{\n  speakers {\n    id\n    name\n  }\n}`;\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useState } from 'react';\nimport { gql, useMutation } from '@apollo/client';\nimport { Paragraph, Span } from '@zendeskgarden/react-typography';\nimport { CenterWell } from 'layouts/Root/components/Styled';\nimport { Submit } from 'layouts/Root/components/Forms';\nimport { css } from 'styled-components';\nimport { mediaQuery } from '@zendeskgarden/react-theming';\nimport { Checkbox, Field, Label } from '@zendeskgarden/react-forms';\n\nconst ACCEPT_TERMS = gql`\n  mutation {\n    updateProfile(terms_accepted: true) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        terms_accepted\n      }\n    }\n  }\n`;\n\nexport const AcceptTerms: React.FC = () => {\n  const [acceptTerms, { loading }] = useMutation(ACCEPT_TERMS);\n  const [isChecked, setChecked] = useState(false);\n\n  return (\n    <CenterWell\n      title=\"Before you get started\"\n      css={css`\n        & p {\n          text-align: left;\n        }\n\n        ${p => mediaQuery('up', 'sm', p.theme)} {\n          width: 603px;\n        }\n      `}\n    >\n      <Paragraph>\n        <Span isBold>Restricted Content</Span> <br />\n        You may not use Coqui.ai for defamation, scams, illicit content, or other use cases where\n        you are “hiding behind a fake voice”. Content flags are used for enforcing our terms of\n        service. All flagged content is monitored by our team for breaches and actioned directly\n        with the account holder. Our terms of service cover both commercial and private usage of\n        generated audio.\n      </Paragraph>\n      <Paragraph>\n        We recommend reading our Terms of Service for a more concise list - feel free to reach out\n        to us directly if you aren’t sure.\n      </Paragraph>\n\n      <Field\n        css={css`\n          margin-top: 39px;\n        `}\n      >\n        <Checkbox checked={isChecked} onChange={() => setChecked(!isChecked)}>\n          <Label>I have read and understood the Terms and Conditions</Label>\n        </Checkbox>\n      </Field>\n\n      <Submit loading={loading} disabled={!isChecked} onClick={acceptTerms}>\n        I Agree\n      </Submit>\n    </CenterWell>\n  );\n};\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { Formik, Form } from 'formik';\nimport { gql, useMutation } from '@apollo/client';\nimport { CenterWell } from 'layouts/Root/components/Styled';\nimport { Submit, Field } from 'layouts/Root/components/Forms';\nimport { Input } from '@zendeskgarden/react-forms';\n\nconst UPDATE_PROFILE = gql`\n  mutation updateProfile($personal_name: String!, $organization_name: String!) {\n    updateProfile(personal_name: $personal_name, organization_name: $organization_name) {\n      errors {\n        field\n        errors\n      }\n      profile {\n        organization_name\n        personal_name\n        terms_accepted\n      }\n    }\n  }\n`;\n\nexport const CompleteProfile = ({ profile }) => {\n  const [updateProfile, { loading }] = useMutation(UPDATE_PROFILE);\n\n  return (\n    <CenterWell title=\"Complete your profile!\">\n      <Formik\n        initialValues={{\n          personal_name: profile.personal_name,\n          organization_name: profile.organization_name\n        }}\n        validate={values => {\n          const errors = {};\n\n          ['personal_name', 'organization_name'].forEach(k => {\n            if (!values[k]) errors[k] = 'Required.';\n          });\n\n          return errors;\n        }}\n        onSubmit={({ personal_name, organization_name }, formik) =>\n          updateProfile({ variables: { personal_name, organization_name } }).then(({ data }) => {\n            if (data.errors) {\n              formik.setStatus(\n                Object.fromEntries(\n                  data.errors.map(({ field, errors }) => [field, errors.join(' ')])\n                )\n              );\n            } else {\n              return data;\n            }\n          })\n        }\n      >\n        {({ status }) => (\n          <Form>\n            {status?.__all__ ? <div>{status.__all__}</div> : null}\n\n            <Field name=\"personal_name\" label=\"Enter your name here:\" as={Input} />\n            <Field name=\"organization_name\" label=\"Name of Organization:\" as={Input} />\n\n            <Submit loading={loading}>Sign Up & Login</Submit>\n          </Form>\n        )}\n      </Formik>\n    </CenterWell>\n  );\n};\n","import { _ as _objectWithoutProperties, a as _extends } from './_rollupPluginBabelHelpers-3bc641ae.js';\nimport React, { forwardRef } from 'react';\nvar _excluded = [\"variant\", \"color\", \"size\"];\n\nvar Bold = function Bold(_ref) {\n  var color = _ref.color;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 13c-2.76 0-5 2.23-5 5s2.24 5 5 5 5-2.24 5-5-2.23-5-5-5Zm-2.04 2.96H6a.68.68 0 0 1 0 1.36H3.96a.68.68 0 0 1 0-1.36Zm4.08 4.08H3.96a.68.68 0 0 1-.68-.68c0-.37.31-.68.68-.68h4.09c.38 0 .68.31.68.68 0 .37-.31.68-.69.68Z\",\n    fill: color\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 3H7C4 3 2 4.5 2 8v3.14c0 .73.75 1.19 1.42.9a6.51 6.51 0 0 1 3.66-.45c2.62.43 4.76 2.5 5.29 5.1.15.76.17 1.5.07 2.21-.08.59.4 1.11.99 1.11H17c3 0 5-1.5 5-5V8c0-3.5-2-5-5-5Zm.47 5.59-3.13 2.5c-.66.53-1.5.79-2.34.79-.84 0-1.69-.26-2.34-.79l-3.13-2.5a.77.77 0 0 1-.12-1.06c.26-.32.73-.38 1.05-.12l3.13 2.5c.76.61 2.05.61 2.81 0l3.13-2.5c.32-.26.8-.21 1.05.12.26.32.21.8-.11 1.06Z\",\n    fill: color\n  }));\n};\n\nvar Broken = function Broken(_ref2) {\n  var color = _ref2.color;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 12.98v2.52c0 3.5-2 5-5 5H7M2 8.5c0-3.5 2-5 5-5h10c3 0 5 1.5 5 5M17 9l-3.13 2.5c-1.03.82-2.72.82-3.75 0L7 9M2 16.5h6M2 12.5h3\",\n    stroke: color,\n    strokeWidth: \"1.5\",\n    strokeMiterlimit: \"10\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }));\n};\n\nvar Bulk = function Bulk(_ref3) {\n  var color = _ref3.color;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 13c-2.76 0-5 2.23-5 5s2.24 5 5 5 5-2.24 5-5-2.23-5-5-5Zm-2.04 2.96H6c.38 0 .68.31.68.68 0 .37-.31.68-.68.68H3.96a.68.68 0 0 1 0-1.36Zm4.08 4.08H3.95a.68.68 0 0 1-.68-.68c0-.37.31-.68.68-.68h4.09a.68.68 0 0 1 0 1.36Z\",\n    fill: color\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    opacity: \".4\",\n    d: \"M17 3H7C4 3 2 4.5 2 8v3.14c0 .73.75 1.19 1.42.9a6.51 6.51 0 0 1 3.66-.45c2.62.43 4.76 2.5 5.29 5.1.15.76.17 1.5.07 2.21-.08.59.4 1.11.99 1.11H17c3 0 5-1.5 5-5v-7C22 4.5 20 3 17 3Z\",\n    fill: color\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.999 11.872c-.84 0-1.69-.26-2.34-.79l-3.13-2.5a.748.748 0 0 1 .93-1.17l3.13 2.5c.76.61 2.05.61 2.81 0l3.13-2.5c.32-.26.8-.21 1.05.12.26.32.21.8-.12 1.05l-3.13 2.5c-.64.53-1.49.79-2.33.79Z\",\n    fill: color\n  }));\n};\n\nvar Linear = function Linear(_ref4) {\n  var color = _ref4.color;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 8.5c0-3.5 2-5 5-5h10c3 0 5 1.5 5 5v7c0 3.5-2 5-5 5H7\",\n    stroke: color,\n    strokeWidth: \"1.5\",\n    strokeMiterlimit: \"10\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m17 9-3.13 2.5c-1.03.82-2.72.82-3.75 0L7 9M2 16.5h6M2 12.5h3\",\n    stroke: color,\n    strokeWidth: \"1.5\",\n    strokeMiterlimit: \"10\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }));\n};\n\nvar Outline = function Outline(_ref5) {\n  var color = _ref5.color;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 21.25H7c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h10c2.86 0 4.25-1.39 4.25-4.25v-7c0-2.86-1.39-4.25-4.25-4.25H7c-2.86 0-4.25 1.39-4.25 4.25 0 .41-.34.75-.75.75s-.75-.34-.75-.75c0-3.65 2.1-5.75 5.75-5.75h10c3.65 0 5.75 2.1 5.75 5.75v7c0 3.65-2.1 5.75-5.75 5.75Z\",\n    fill: color\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.999 12.868c-.84 0-1.69-.26-2.34-.79l-3.13-2.5a.748.748 0 0 1 .93-1.17l3.13 2.5c.76.61 2.05.61 2.81 0l3.13-2.5c.32-.26.8-.21 1.05.12.26.32.21.8-.12 1.05l-3.13 2.5c-.64.53-1.49.79-2.33.79ZM8 17.25H2c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h6c.41 0 .75.34.75.75s-.34.75-.75.75ZM5 13.25H2c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75Z\",\n    fill: color\n  }));\n};\n\nvar TwoTone = function TwoTone(_ref6) {\n  var color = _ref6.color;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 8.5c0-3.5 2-5 5-5h10c3 0 5 1.5 5 5v7c0 3.5-2 5-5 5H7\",\n    stroke: color,\n    strokeWidth: \"1.5\",\n    strokeMiterlimit: \"10\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    opacity: \".4\",\n    d: \"m17 9-3.13 2.5c-1.03.82-2.72.82-3.75 0L7 9M2 16.5h6M2 12.5h3\",\n    stroke: color,\n    strokeWidth: \"1.5\",\n    strokeMiterlimit: \"10\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }));\n};\n\nvar chooseVariant = function chooseVariant(variant, color) {\n  switch (variant) {\n    case 'Bold':\n      return /*#__PURE__*/React.createElement(Bold, {\n        color: color\n      });\n\n    case 'Broken':\n      return /*#__PURE__*/React.createElement(Broken, {\n        color: color\n      });\n\n    case 'Bulk':\n      return /*#__PURE__*/React.createElement(Bulk, {\n        color: color\n      });\n\n    case 'Linear':\n      return /*#__PURE__*/React.createElement(Linear, {\n        color: color\n      });\n\n    case 'Outline':\n      return /*#__PURE__*/React.createElement(Outline, {\n        color: color\n      });\n\n    case 'TwoTone':\n      return /*#__PURE__*/React.createElement(TwoTone, {\n        color: color\n      });\n\n    default:\n      return /*#__PURE__*/React.createElement(Linear, {\n        color: color\n      });\n  }\n};\n\nvar SmsTracking = /*#__PURE__*/forwardRef(function (_ref7, ref) {\n  var variant = _ref7.variant,\n      color = _ref7.color,\n      size = _ref7.size,\n      rest = _objectWithoutProperties(_ref7, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: ref,\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\"\n  }), chooseVariant(variant, color));\n});\nSmsTracking.defaultProps = {\n  variant: 'Linear',\n  color: 'currentColor',\n  size: '24'\n};\nSmsTracking.displayName = 'SmsTracking';\nexport { SmsTracking as default };","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React from 'react';\nimport { Paragraph } from '@zendeskgarden/react-typography';\nimport { CenterWell } from 'layouts/Root/components/Styled';\nimport { SmsTracking } from 'iconsax-react';\nimport { css } from 'styled-components';\n\nexport const VerifyEmail: React.FC = () => (\n  <CenterWell title=\"Complete your profile!\">\n    <SmsTracking\n      size=\"80\"\n      color=\"#FF8A65\"\n      variant=\"Outline\"\n      css={css`\n        display: block;\n        margin: 69px auto 30px auto;\n      `}\n    />\n    <Paragraph>\n      Please check your email\n      <br /> address to verify your account\n      <br /> and complete your sign up\n    </Paragraph>\n  </CenterWell>\n);\n","/**\n * Copyright Coqui GmbH\n *\n * Use of this source code is governed under the Apache License, Version 2.0\n * found at http://www.apache.org/licenses/LICENSE-2.0.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useProfile, useRedirectToNewDomain } from 'utils/auth';\nimport { AcceptTerms } from 'layouts/Auth/components/registration/AcceptTerms';\nimport { CompleteProfile } from 'layouts/Auth/components/registration/CompleteProfile';\nimport { VerifyEmail } from 'layouts/Auth/components/registration/VerifyEmail';\nimport { SignInForm } from 'layouts/Auth/components/SignInForm';\n\nconst ClientOnly = ({ children }) => {\n  const [display, setDisplay] = useState(false);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      setDisplay(true);\n    }\n  }, []);\n\n  if (!display) return null;\n\n  return children;\n};\n\nconst RequireAuth = ({ children }) => {\n  useRedirectToNewDomain();\n\n  const { data: profile, loading, error } = useProfile();\n\n  // fixme\n  if (loading) return '';\n\n  if (error || !profile) {\n    return (\n      <ClientOnly>\n        <SignInForm />\n      </ClientOnly>\n    );\n  } // TODO: error-specific behaviour?\n\n  if (!profile.personal_name || !profile.organization_name) {\n    return <CompleteProfile profile={profile} />;\n  }\n\n  if (!profile.terms_accepted) {\n    return <AcceptTerms />;\n  }\n\n  if (!profile.email_validated) {\n    return <VerifyEmail />;\n  }\n\n  return children;\n};\n\nexport default RequireAuth;\n"],"sourceRoot":""}